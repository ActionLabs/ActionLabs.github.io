/**
 * @license almond 0.2.9 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 *
 * Owner: mark@famo.us
 * @license MPL 2.0
 * @copyright Famous Industries, Inc. 2014
 */

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 *
 * Owner: david@famo.us
 * @license MPL 2.0
 * @copyright Famous Industries, Inc. 2014
 */

!function(){var t,e,i;!function(o){function s(t,e){return S.call(t,e)}function r(t,e){var i,o,s,r,n,a,c,l,h,p,u,f=e&&e.split("/"),d=g.map,v=d&&d["*"]||{};if(t&&"."===t.charAt(0))if(e){for(f=f.slice(0,f.length-1),t=t.split("/"),n=t.length-1,g.nodeIdCompat&&O.test(t[n])&&(t[n]=t[n].replace(O,"")),t=f.concat(t),h=0;h<t.length;h+=1)if(u=t[h],"."===u)t.splice(h,1),h-=1;else if(".."===u){if(1===h&&(".."===t[2]||".."===t[0]))break;h>0&&(t.splice(h-1,2),h-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((f||v)&&d){for(i=t.split("/"),h=i.length;h>0;h-=1){if(o=i.slice(0,h).join("/"),f)for(p=f.length;p>0;p-=1)if(s=d[f.slice(0,p).join("/")],s&&(s=s[o])){r=s,a=h;break}if(r)break;!c&&v&&v[o]&&(c=v[o],l=h)}!r&&c&&(r=c,a=l),r&&(i.splice(0,a,r),t=i.join("/"))}return t}function n(t,e){return function(){return f.apply(o,b.call(arguments,0).concat([t,e]))}}function a(t){return function(e){return r(e,t)}}function c(t){return function(e){y[t]=e}}function l(t){if(s(m,t)){var e=m[t];delete m[t],_[t]=!0,u.apply(o,e)}if(!s(y,t)&&!s(_,t))throw new Error("No "+t);return y[t]}function h(t){var e,i=t?t.indexOf("!"):-1;return i>-1&&(e=t.substring(0,i),t=t.substring(i+1,t.length)),[e,t]}function p(t){return function(){return g&&g.config&&g.config[t]||{}}}var u,f,d,v,y={},m={},g={},_={},S=Object.prototype.hasOwnProperty,b=[].slice,O=/\.js$/;d=function(t,e){var i,o=h(t),s=o[0];return t=o[1],s&&(s=r(s,e),i=l(s)),s?t=i&&i.normalize?i.normalize(t,a(e)):r(t,e):(t=r(t,e),o=h(t),s=o[0],t=o[1],s&&(i=l(s))),{f:s?s+"!"+t:t,n:t,pr:s,p:i}},v={require:function(t){return n(t)},exports:function(t){var e=y[t];return"undefined"!=typeof e?e:y[t]={}},module:function(t){return{id:t,uri:"",exports:y[t],config:p(t)}}},u=function(t,e,i,r){var a,h,p,u,f,g,S=[],b=typeof i;if(r=r||t,"undefined"===b||"function"===b){for(e=!e.length&&i.length?["require","exports","module"]:e,f=0;f<e.length;f+=1)if(u=d(e[f],r),h=u.f,"require"===h)S[f]=v.require(t);else if("exports"===h)S[f]=v.exports(t),g=!0;else if("module"===h)a=S[f]=v.module(t);else if(s(y,h)||s(m,h)||s(_,h))S[f]=l(h);else{if(!u.p)throw new Error(t+" missing "+h);u.p.load(u.n,n(r,!0),c(h),{}),S[f]=y[h]}p=i?i.apply(y[t],S):void 0,t&&(a&&a.exports!==o&&a.exports!==y[t]?y[t]=a.exports:p===o&&g||(y[t]=p))}else t&&(y[t]=i)},t=e=f=function(t,e,i,s,r){if("string"==typeof t)return v[t]?v[t](e):l(d(t,e).f);if(!t.splice){if(g=t,g.deps&&f(g.deps,g.callback),!e)return;e.splice?(t=e,e=i,i=null):t=o}return e=e||function(){},"function"==typeof i&&(i=s,s=r),s?u(o,t,e,i):setTimeout(function(){u(o,t,e,i)},4),f},f.config=function(t){return f(t)},t._defined=y,i=function(t,e,i){e.splice||(i=e,e=[]),s(y,t)||s(m,t)||(m[t]=[t,e,i])},i.amd={jQuery:!0}}(),i("almond",function(){}),i("famous/core/Entity",["require","exports","module"],function(t,e,i){function o(t){return a[t]}function s(t,e){a[t]=e}function r(t){var e=a.length;return s(e,t),e}function n(t){s(t,null)}var a=[];i.exports={register:r,unregister:n,get:o,set:s}}),i("famous/core/Transform",["require","exports","module"],function(t,e,i){function o(t){return 2===t.length?t[0]*t[0]+t[1]*t[1]:t[0]*t[0]+t[1]*t[1]+t[2]*t[2]}function s(t){return Math.sqrt(o(t))}function r(t){return 0>t?-1:1}var n={};n.precision=1e-6,n.identity=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],n.multiply4x4=function(t,e){return[t[0]*e[0]+t[4]*e[1]+t[8]*e[2]+t[12]*e[3],t[1]*e[0]+t[5]*e[1]+t[9]*e[2]+t[13]*e[3],t[2]*e[0]+t[6]*e[1]+t[10]*e[2]+t[14]*e[3],t[3]*e[0]+t[7]*e[1]+t[11]*e[2]+t[15]*e[3],t[0]*e[4]+t[4]*e[5]+t[8]*e[6]+t[12]*e[7],t[1]*e[4]+t[5]*e[5]+t[9]*e[6]+t[13]*e[7],t[2]*e[4]+t[6]*e[5]+t[10]*e[6]+t[14]*e[7],t[3]*e[4]+t[7]*e[5]+t[11]*e[6]+t[15]*e[7],t[0]*e[8]+t[4]*e[9]+t[8]*e[10]+t[12]*e[11],t[1]*e[8]+t[5]*e[9]+t[9]*e[10]+t[13]*e[11],t[2]*e[8]+t[6]*e[9]+t[10]*e[10]+t[14]*e[11],t[3]*e[8]+t[7]*e[9]+t[11]*e[10]+t[15]*e[11],t[0]*e[12]+t[4]*e[13]+t[8]*e[14]+t[12]*e[15],t[1]*e[12]+t[5]*e[13]+t[9]*e[14]+t[13]*e[15],t[2]*e[12]+t[6]*e[13]+t[10]*e[14]+t[14]*e[15],t[3]*e[12]+t[7]*e[13]+t[11]*e[14]+t[15]*e[15]]},n.multiply=function(t,e){return[t[0]*e[0]+t[4]*e[1]+t[8]*e[2],t[1]*e[0]+t[5]*e[1]+t[9]*e[2],t[2]*e[0]+t[6]*e[1]+t[10]*e[2],0,t[0]*e[4]+t[4]*e[5]+t[8]*e[6],t[1]*e[4]+t[5]*e[5]+t[9]*e[6],t[2]*e[4]+t[6]*e[5]+t[10]*e[6],0,t[0]*e[8]+t[4]*e[9]+t[8]*e[10],t[1]*e[8]+t[5]*e[9]+t[9]*e[10],t[2]*e[8]+t[6]*e[9]+t[10]*e[10],0,t[0]*e[12]+t[4]*e[13]+t[8]*e[14]+t[12],t[1]*e[12]+t[5]*e[13]+t[9]*e[14]+t[13],t[2]*e[12]+t[6]*e[13]+t[10]*e[14]+t[14],1]},n.thenMove=function(t,e){return e[2]||(e[2]=0),[t[0],t[1],t[2],0,t[4],t[5],t[6],0,t[8],t[9],t[10],0,t[12]+e[0],t[13]+e[1],t[14]+e[2],1]},n.moveThen=function(t,e){t[2]||(t[2]=0);var i=t[0]*e[0]+t[1]*e[4]+t[2]*e[8],o=t[0]*e[1]+t[1]*e[5]+t[2]*e[9],s=t[0]*e[2]+t[1]*e[6]+t[2]*e[10];return n.thenMove(e,[i,o,s])},n.translate=function(t,e,i){return void 0===i&&(i=0),[1,0,0,0,0,1,0,0,0,0,1,0,t,e,i,1]},n.thenScale=function(t,e){return[e[0]*t[0],e[1]*t[1],e[2]*t[2],0,e[0]*t[4],e[1]*t[5],e[2]*t[6],0,e[0]*t[8],e[1]*t[9],e[2]*t[10],0,e[0]*t[12],e[1]*t[13],e[2]*t[14],1]},n.scale=function(t,e,i){return void 0===i&&(i=1),[t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1]},n.rotateX=function(t){var e=Math.cos(t),i=Math.sin(t);return[1,0,0,0,0,e,i,0,0,-i,e,0,0,0,0,1]},n.rotateY=function(t){var e=Math.cos(t),i=Math.sin(t);return[e,0,-i,0,0,1,0,0,i,0,e,0,0,0,0,1]},n.rotateZ=function(t){var e=Math.cos(t),i=Math.sin(t);return[e,i,0,0,-i,e,0,0,0,0,1,0,0,0,0,1]},n.rotate=function(t,e,i){var o=Math.cos(t),s=Math.sin(t),r=Math.cos(e),n=Math.sin(e),a=Math.cos(i),c=Math.sin(i),l=[r*a,o*c+s*n*a,s*c-o*n*a,0,-r*c,o*a-s*n*c,s*a+o*n*c,0,n,-s*r,o*r,0,0,0,0,1];return l},n.rotateAxis=function(t,e){var i=Math.sin(e),o=Math.cos(e),s=1-o,r=t[0]*t[0]*s,n=t[0]*t[1]*s,a=t[0]*t[2]*s,c=t[1]*t[1]*s,l=t[1]*t[2]*s,h=t[2]*t[2]*s,p=t[0]*i,u=t[1]*i,f=t[2]*i,d=[r+o,n+f,a-u,0,n-f,c+o,l+p,0,a+u,l-p,h+o,0,0,0,0,1];return d},n.aboutOrigin=function(t,e){var i=t[0]-(t[0]*e[0]+t[1]*e[4]+t[2]*e[8]),o=t[1]-(t[0]*e[1]+t[1]*e[5]+t[2]*e[9]),s=t[2]-(t[0]*e[2]+t[1]*e[6]+t[2]*e[10]);return n.thenMove(e,[i,o,s])},n.skew=function(t,e,i){return[1,0,0,0,Math.tan(i),1,0,0,Math.tan(e),Math.tan(t),1,0,0,0,0,1]},n.skewX=function(t){return[1,0,0,0,Math.tan(t),1,0,0,0,0,1,0,0,0,0,1]},n.skewY=function(t){return[1,Math.tan(t),0,0,0,1,0,0,0,0,1,0,0,0,0,1]},n.perspective=function(t){return[1,0,0,0,0,1,0,0,0,0,1,-1/t,0,0,0,1]},n.getTranslate=function(t){return[t[12],t[13],t[14]]},n.inverse=function(t){var e=t[5]*t[10]-t[6]*t[9],i=t[4]*t[10]-t[6]*t[8],o=t[4]*t[9]-t[5]*t[8],s=t[1]*t[10]-t[2]*t[9],r=t[0]*t[10]-t[2]*t[8],n=t[0]*t[9]-t[1]*t[8],a=t[1]*t[6]-t[2]*t[5],c=t[0]*t[6]-t[2]*t[4],l=t[0]*t[5]-t[1]*t[4],h=t[0]*e-t[1]*i+t[2]*o,p=1/h,u=[p*e,-p*s,p*a,0,-p*i,p*r,-p*c,0,p*o,-p*n,p*l,0,0,0,0,1];return u[12]=-t[12]*u[0]-t[13]*u[4]-t[14]*u[8],u[13]=-t[12]*u[1]-t[13]*u[5]-t[14]*u[9],u[14]=-t[12]*u[2]-t[13]*u[6]-t[14]*u[10],u},n.transpose=function(t){return[t[0],t[4],t[8],t[12],t[1],t[5],t[9],t[13],t[2],t[6],t[10],t[14],t[3],t[7],t[11],t[15]]},n.interpret=function(t){var e=[t[0],t[1],t[2]],i=r(e[0]),a=s(e),c=[e[0]+i*a,e[1],e[2]],l=2/o(c);if(l>=1/0)return{translate:n.getTranslate(t),rotate:[0,0,0],scale:[0,0,0],skew:[0,0,0]};var h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];h[0]=1-l*c[0]*c[0],h[5]=1-l*c[1]*c[1],h[10]=1-l*c[2]*c[2],h[1]=-l*c[0]*c[1],h[2]=-l*c[0]*c[2],h[6]=-l*c[1]*c[2],h[4]=h[1],h[8]=h[2],h[9]=h[6];var p=n.multiply(h,t),u=[p[5],p[6]],f=r(u[0]),d=s(u),v=[u[0]+f*d,u[1]],y=2/o(v),m=[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];m[5]=1-y*v[0]*v[0],m[10]=1-y*v[1]*v[1],m[6]=-y*v[0]*v[1],m[9]=m[6];var g=n.multiply(m,h),_=n.multiply(g,t),S=n.scale(_[0]<0?-1:1,_[5]<0?-1:1,_[10]<0?-1:1);_=n.multiply(_,S),g=n.multiply(S,g);var b={};return b.translate=n.getTranslate(t),b.rotate=[Math.atan2(-g[6],g[10]),Math.asin(g[2]),Math.atan2(-g[1],g[0])],b.rotate[0]||(b.rotate[0]=0,b.rotate[2]=Math.atan2(g[4],g[5])),b.scale=[_[0],_[5],_[10]],b.skew=[Math.atan2(_[9],b.scale[2]),Math.atan2(_[8],b.scale[2]),Math.atan2(_[4],b.scale[0])],Math.abs(b.rotate[0])+Math.abs(b.rotate[2])>1.5*Math.PI&&(b.rotate[1]=Math.PI-b.rotate[1],b.rotate[1]>Math.PI&&(b.rotate[1]-=2*Math.PI),b.rotate[1]<-Math.PI&&(b.rotate[1]+=2*Math.PI),b.rotate[0]<0?b.rotate[0]+=Math.PI:b.rotate[0]-=Math.PI,b.rotate[2]<0?b.rotate[2]+=Math.PI:b.rotate[2]-=Math.PI),b},n.average=function(t,e,i){i=void 0===i?.5:i;for(var o=n.interpret(t),s=n.interpret(e),r={translate:[0,0,0],rotate:[0,0,0],scale:[0,0,0],skew:[0,0,0]},a=0;3>a;a++)r.translate[a]=(1-i)*o.translate[a]+i*s.translate[a],r.rotate[a]=(1-i)*o.rotate[a]+i*s.rotate[a],r.scale[a]=(1-i)*o.scale[a]+i*s.scale[a],r.skew[a]=(1-i)*o.skew[a]+i*s.skew[a];return n.build(r)},n.build=function(t){var e=n.scale(t.scale[0],t.scale[1],t.scale[2]),i=n.skew(t.skew[0],t.skew[1],t.skew[2]),o=n.rotate(t.rotate[0],t.rotate[1],t.rotate[2]);return n.thenMove(n.multiply(n.multiply(o,i),e),t.translate)},n.equals=function(t,e){return!n.notEquals(t,e)},n.notEquals=function(t,e){return t===e?!1:!(t&&e)||t[12]!==e[12]||t[13]!==e[13]||t[14]!==e[14]||t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[4]!==e[4]||t[5]!==e[5]||t[6]!==e[6]||t[8]!==e[8]||t[9]!==e[9]||t[10]!==e[10]},n.normalizeRotation=function(t){var e=t.slice(0);for((e[0]===.5*Math.PI||e[0]===.5*-Math.PI)&&(e[0]=-e[0],e[1]=Math.PI-e[1],e[2]-=Math.PI),e[0]>.5*Math.PI&&(e[0]=e[0]-Math.PI,e[1]=Math.PI-e[1],e[2]-=Math.PI),e[0]<.5*-Math.PI&&(e[0]=e[0]+Math.PI,e[1]=-Math.PI-e[1],e[2]-=Math.PI);e[1]<-Math.PI;)e[1]+=2*Math.PI;for(;e[1]>=Math.PI;)e[1]-=2*Math.PI;for(;e[2]<-Math.PI;)e[2]+=2*Math.PI;for(;e[2]>=Math.PI;)e[2]-=2*Math.PI;return e},n.inFront=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,.001,1],n.behind=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,-.001,1],i.exports=n}),i("famous/core/SpecParser",["require","exports","module","./Transform"],function(t,e,i){function o(){this.result={}}function s(t,e){return[t[0]*e[0]+t[1]*e[4]+t[2]*e[8],t[0]*e[1]+t[1]*e[5]+t[2]*e[9],t[0]*e[2]+t[1]*e[6]+t[2]*e[10]]}var r=t("./Transform");o._instance=new o,o.parse=function(t,e){return o._instance.parse(t,e)},o.prototype.parse=function(t,e){return this.reset(),this._parseSpec(t,e,r.identity),this.result},o.prototype.reset=function(){this.result={}};var n=[0,0];o.prototype._parseSpec=function(t,e,i){var o,a,c,l,h,p,u;if("number"==typeof t){if(o=t,c=e.transform,p=e.align||e.origin,e.size&&p&&(p[0]||p[1])){var f=[p[0]*e.size[0],p[1]*e.size[1],0];c=r.thenMove(c,s(f,i))}this.result[o]={transform:c,opacity:e.opacity,origin:e.origin||n,align:e.align||e.origin||n,size:e.size}}else{if(!t)return;if(t instanceof Array)for(var d=0;d<t.length;d++)this._parseSpec(t[d],e,i);else{a=t.target,c=e.transform,l=e.opacity,h=e.origin,p=e.align,u=e.size;var v=i;if(void 0!==t.opacity&&(l=e.opacity*t.opacity),t.transform&&(c=r.multiply(e.transform,t.transform)),t.origin&&(h=t.origin,v=e.transform),t.align&&(p=t.align),t.size){var y=e.size;u=[void 0!==t.size[0]?t.size[0]:y[0],void 0!==t.size[1]?t.size[1]:y[1]],y&&(p||(p=h),p&&(p[0]||p[1])&&(c=r.thenMove(c,s([p[0]*y[0],p[1]*y[1],0],i))),h&&(h[0]||h[1])&&(c=r.moveThen([-h[0]*u[0],-h[1]*u[1],0],c))),v=e.transform,h=null,p=null}this._parseSpec(a,{transform:c,opacity:l,origin:h,align:p,size:u},v)}}},i.exports=o}),i("famous/core/RenderNode",["require","exports","module","./Entity","./SpecParser"],function(t,e,i){function o(t){this._object=null,this._child=null,this._hasMultipleChildren=!1,this._isRenderable=!1,this._isModifier=!1,this._resultCache={},this._prevResults={},this._childResult=null,t&&this.set(t)}function s(t,e,i){for(var o=n.parse(t,e),a=Object.keys(o),c=0;c<a.length;c++){var l=a[c],h=r.get(l),p=o[l];p.allocator=e.allocator;var u=h.commit(p);u?s(u,e,i):i[l]=p}}var r=t("./Entity"),n=t("./SpecParser");o.prototype.add=function(t){var e=t instanceof o?t:new o(t);return this._child instanceof Array?this._child.push(e):this._child?(this._child=[this._child,e],this._hasMultipleChildren=!0,this._childResult=[]):this._child=e,e},o.prototype.get=function(){return this._object||(this._hasMultipleChildren?null:this._child?this._child.get():null)},o.prototype.set=function(t){return this._childResult=null,this._hasMultipleChildren=!1,this._isRenderable=t.render?!0:!1,this._isModifier=t.modify?!0:!1,this._object=t,this._child=null,t instanceof o?t:this},o.prototype.getSize=function(){var t=null,e=this.get();return e&&e.getSize&&(t=e.getSize()),!t&&this._child&&this._child.getSize&&(t=this._child.getSize()),t},o.prototype.commit=function(t){for(var e=Object.keys(this._prevResults),i=0;i<e.length;i++){var o=e[i];if(void 0===this._resultCache[o]){var n=r.get(o);n.cleanup&&n.cleanup(t.allocator)}}this._prevResults=this._resultCache,this._resultCache={},s(this.render(),t,this._resultCache)},o.prototype.render=function(){if(this._isRenderable)return this._object.render();var t=null;if(this._hasMultipleChildren){t=this._childResult;for(var e=this._child,i=0;i<e.length;i++)t[i]=e[i].render()}else this._child&&(t=this._child.render());return this._isModifier?this._object.modify(t):t},i.exports=o}),i("famous/core/EventEmitter",["require","exports","module"],function(t,e,i){function o(){this.listeners={},this._owner=this}o.prototype.emit=function(t,e){var i=this.listeners[t];if(i)for(var o=0;o<i.length;o++)i[o].call(this._owner,e);return this},o.prototype.on=function(t,e){t in this.listeners||(this.listeners[t]=[]);var i=this.listeners[t].indexOf(e);return 0>i&&this.listeners[t].push(e),this},o.prototype.addListener=o.prototype.on,o.prototype.removeListener=function(t,e){var i=this.listeners[t].indexOf(e);return i>=0&&this.listeners[t].splice(i,1),this},o.prototype.bindThis=function(t){this._owner=t},i.exports=o}),i("famous/core/EventHandler",["require","exports","module","./EventEmitter"],function(t,e,i){function o(){s.apply(this,arguments),this.downstream=[],this.downstreamFn=[],this.upstream=[],this.upstreamListeners={}}var s=t("./EventEmitter");o.prototype=Object.create(s.prototype),o.prototype.constructor=o,o.setInputHandler=function(t,e){t.trigger=e.trigger.bind(e),e.subscribe&&e.unsubscribe&&(t.subscribe=e.subscribe.bind(e),t.unsubscribe=e.unsubscribe.bind(e))},o.setOutputHandler=function(t,e){e instanceof o&&e.bindThis(t),t.pipe=e.pipe.bind(e),t.unpipe=e.unpipe.bind(e),t.on=e.on.bind(e),t.addListener=t.on,t.removeListener=e.removeListener.bind(e)},o.prototype.emit=function(t,e){s.prototype.emit.apply(this,arguments);var i=0;for(i=0;i<this.downstream.length;i++)this.downstream[i].trigger&&this.downstream[i].trigger(t,e);for(i=0;i<this.downstreamFn.length;i++)this.downstreamFn[i](t,e);return this},o.prototype.trigger=o.prototype.emit,o.prototype.pipe=function(t){if(t.subscribe instanceof Function)return t.subscribe(this);var e=t instanceof Function?this.downstreamFn:this.downstream,i=e.indexOf(t);return 0>i&&e.push(t),t instanceof Function?t("pipe",null):t.trigger&&t.trigger("pipe",null),t},o.prototype.unpipe=function(t){if(t.unsubscribe instanceof Function)return t.unsubscribe(this);var e=t instanceof Function?this.downstreamFn:this.downstream,i=e.indexOf(t);return i>=0?(e.splice(i,1),t instanceof Function?t("unpipe",null):t.trigger&&t.trigger("unpipe",null),t):!1},o.prototype.on=function(t){if(s.prototype.on.apply(this,arguments),!(t in this.upstreamListeners)){var e=this.trigger.bind(this,t);this.upstreamListeners[t]=e;for(var i=0;i<this.upstream.length;i++)this.upstream[i].on(t,e)}return this},o.prototype.addListener=o.prototype.on,o.prototype.subscribe=function(t){var e=this.upstream.indexOf(t);if(0>e){this.upstream.push(t);for(var i in this.upstreamListeners)t.on(i,this.upstreamListeners[i])}return this},o.prototype.unsubscribe=function(t){var e=this.upstream.indexOf(t);if(e>=0){this.upstream.splice(e,1);for(var i in this.upstreamListeners)t.removeListener(i,this.upstreamListeners[i])}return this},i.exports=o}),i("famous/core/ElementAllocator",["require","exports","module"],function(t,e,i){function o(t){t||(t=document.createDocumentFragment()),this.container=t,this.detachedNodes={},this.nodeCount=0}o.prototype.migrate=function(t){var e=this.container;if(t!==e){if(e instanceof DocumentFragment)t.appendChild(e);else for(;e.hasChildNodes();)t.appendChild(e.removeChild(e.firstChild));this.container=t}},o.prototype.allocate=function(t){t=t.toLowerCase(),t in this.detachedNodes||(this.detachedNodes[t]=[]);var e,i=this.detachedNodes[t];return i.length>0?e=i.pop():(e=document.createElement(t),this.container.appendChild(e)),this.nodeCount++,e},o.prototype.deallocate=function(t){var e=t.nodeName.toLowerCase(),i=this.detachedNodes[e];i.push(t),this.nodeCount--},o.prototype.getNodeCount=function(){return this.nodeCount},i.exports=o}),i("famous/utilities/Utility",["require","exports","module"],function(t,e,i){var o={};o.Direction={X:0,Y:1,Z:2},o.after=function(t,e){var i=t;return function(){i--,0===i&&e.apply(this,arguments)}},o.loadURL=function(t,e){var i=new XMLHttpRequest;i.onreadystatechange=function(){4===this.readyState&&e&&e(this.responseText)},i.open("GET",t),i.send()},o.createDocumentFragmentFromHTML=function(t){var e=document.createElement("div");e.innerHTML=t;for(var i=document.createDocumentFragment();e.hasChildNodes();)i.appendChild(e.firstChild);return i},i.exports=o}),i("famous/transitions/MultipleTransition",["require","exports","module","famous/utilities/Utility"],function(t,e,i){function o(t){this.method=t,this._instances=[],this.state=[]}var s=t("famous/utilities/Utility");o.SUPPORTS_MULTIPLE=!0,o.prototype.get=function(){for(var t=0;t<this._instances.length;t++)this.state[t]=this._instances[t].get();return this.state},o.prototype.set=function(t,e,i){for(var o=s.after(t.length,i),r=0;r<t.length;r++)this._instances[r]||(this._instances[r]=new this.method),this._instances[r].set(t[r],e,o)},o.prototype.reset=function(t){for(var e=0;e<t.length;e++)this._instances[e]||(this._instances[e]=new this.method),this._instances[e].reset(t[e])},i.exports=o}),i("famous/transitions/TweenTransition",["require","exports","module"],function(t,e,i){function o(t){this.options=Object.create(o.DEFAULT_OPTIONS),t&&this.setOptions(t),this._startTime=0,this._startValue=0,this._updateTime=0,this._endValue=0,this._curve=void 0,this._duration=0,this._active=!1,this._callback=void 0,this.state=0,this.velocity=void 0}function s(t,e,i){return(1-i)*t+i*e}function r(t){return t instanceof Object?t instanceof Array?t.slice(0):Object.create(t):t}function n(t,e){var i={curve:e.curve};return e.duration&&(i.duration=e.duration),e.speed&&(i.speed=e.speed),t instanceof Object&&(void 0!==t.duration&&(i.duration=t.duration),t.curve&&(i.curve=t.curve),t.speed&&(i.speed=t.speed)),"string"==typeof i.curve&&(i.curve=o.getCurve(i.curve)),i}function a(t,e,i,o,s){var r,n=1e-7,a=(i(s)-i(s-n))/n;if(t instanceof Array){r=[];for(var c=0;c<t.length;c++)r[c]="number"==typeof t[c]?a*(t[c]-e[c])/o:0}else r=a*(t-e)/o;return r}function c(t,e,i){var o;if(t instanceof Array){o=[];for(var r=0;r<t.length;r++)o[r]="number"==typeof t[r]?s(t[r],e[r],i):t[r]}else o=s(t,e,i);return o}o.Curves={linear:function(t){return t},easeIn:function(t){return t*t},easeOut:function(t){return t*(2-t)},easeInOut:function(t){return.5>=t?2*t*t:-2*t*t+4*t-1},easeOutBounce:function(t){return t*(3-2*t)},spring:function(t){return(1-t)*Math.sin(6*Math.PI*t)+t}},o.SUPPORTS_MULTIPLE=!0,o.DEFAULT_OPTIONS={curve:o.Curves.linear,duration:500,speed:0};var l={};o.registerCurve=function(t,e){return l[t]?!1:(l[t]=e,!0)},o.unregisterCurve=function(t){return l[t]?(delete l[t],!0):!1},o.getCurve=function(t){var e=l[t];if(void 0!==e)return e;throw new Error("curve not registered")},o.getCurves=function(){return l},o.prototype.setOptions=function(t){void 0!==t.curve&&(this.options.curve=t.curve),void 0!==t.duration&&(this.options.duration=t.duration),void 0!==t.speed&&(this.options.speed=t.speed)},o.prototype.set=function(t,e,i){if(!e)return this.reset(t),void(i&&i());if(this._startValue=r(this.get()),e=n(e,this.options),e.speed){var o=this._startValue;if(o instanceof Object){var s=0;for(var a in o)s+=(t[a]-o[a])*(t[a]-o[a]);e.duration=Math.sqrt(s)/e.speed}else e.duration=Math.abs(t-o)/e.speed}this._startTime=Date.now(),this._endValue=r(t),this._startVelocity=r(e.velocity),this._duration=e.duration,this._curve=e.curve,this._active=!0,this._callback=i},o.prototype.reset=function(t,e){if(this._callback){var i=this._callback;this._callback=void 0,i()}this.state=r(t),this.velocity=r(e),this._startTime=0,this._duration=0,this._updateTime=0,this._startValue=this.state,this._startVelocity=this.velocity,this._endValue=this.state,this._active=!1},o.prototype.getVelocity=function(){return this.velocity},o.prototype.get=function(t){return this.update(t),this.state},o.prototype.update=function(t){if(this._active){if(t||(t=Date.now()),!(this._updateTime>=t)){this._updateTime=t;var e=t-this._startTime;if(e>=this._duration)this.state=this._endValue,this.velocity=a(this.state,this._startValue,this._curve,this._duration,1),this._active=!1;else if(0>e)this.state=this._startValue,this.velocity=this._startVelocity;else{var i=e/this._duration;this.state=c(this._startValue,this._endValue,this._curve(i)),this.velocity=a(this.state,this._startValue,this._curve,this._duration,i)}}}else if(this._callback){var o=this._callback;this._callback=void 0,o()}},o.prototype.isActive=function(){return this._active},o.prototype.halt=function(){this.reset(this.get())},o.registerCurve("linear",o.Curves.linear),o.registerCurve("easeIn",o.Curves.easeIn),o.registerCurve("easeOut",o.Curves.easeOut),o.registerCurve("easeInOut",o.Curves.easeInOut),o.registerCurve("easeOutBounce",o.Curves.easeOutBounce),o.registerCurve("spring",o.Curves.spring),o.customCurve=function(t,e){return t=t||0,e=e||0,function(i){return t*i+(-2*t-e+3)*i*i+(t+e-2)*i*i*i}},i.exports=o}),i("famous/transitions/Transitionable",["require","exports","module","./MultipleTransition","./TweenTransition"],function(t,e,i){function o(t){this.currentAction=null,this.actionQueue=[],this.callbackQueue=[],this.state=0,this.velocity=void 0,this._callback=void 0,this._engineInstance=null,this._currentMethod=null,this.set(t)}function s(){if(this._callback){var t=this._callback;this._callback=void 0,t()}if(this.actionQueue.length<=0)return void this.set(this.get());this.currentAction=this.actionQueue.shift(),this._callback=this.callbackQueue.shift();var e=null,i=this.currentAction[0],o=this.currentAction[1];o instanceof Object&&o.method?(e=o.method,"string"==typeof e&&(e=a[e])):e=n,this._currentMethod!==e&&(this._engineInstance=!(i instanceof Object)||e.SUPPORTS_MULTIPLE===!0||i.length<=e.SUPPORTS_MULTIPLE?new e:new r(e),this._currentMethod=e),this._engineInstance.reset(this.state,this.velocity),void 0!==this.velocity&&(o.velocity=this.velocity),this._engineInstance.set(i,o,s.bind(this))}var r=t("./MultipleTransition"),n=t("./TweenTransition"),a={};o.registerMethod=function(t,e){return t in a?!1:(a[t]=e,!0)},o.unregisterMethod=function(t){return t in a?(delete a[t],!0):!1},o.prototype.set=function(t,e,i){if(!e)return this.reset(t),i&&i(),this;var o=[t,e];return this.actionQueue.push(o),this.callbackQueue.push(i),this.currentAction||s.call(this),this},o.prototype.reset=function(t,e){this._currentMethod=null,this._engineInstance=null,this._callback=void 0,this.state=t,this.velocity=e,this.currentAction=null,this.actionQueue=[],this.callbackQueue=[]},o.prototype.delay=function(t,e){this.set(this.get(),{duration:t,curve:function(){return 0}},e)},o.prototype.get=function(t){return this._engineInstance&&(this._engineInstance.getVelocity&&(this.velocity=this._engineInstance.getVelocity()),this.state=this._engineInstance.get(t)),this.state},o.prototype.isActive=function(){return!!this.currentAction},o.prototype.halt=function(){this.set(this.get())},i.exports=o}),i("famous/core/Context",["require","exports","module","./RenderNode","./EventHandler","./ElementAllocator","./Transform","famous/transitions/Transitionable"],function(t,e,i){function o(t){return[t.clientWidth,t.clientHeight]}function s(t){this.container=t,this._allocator=new a(t),this._node=new r,this._eventOutput=new n,this._size=o(this.container),this._perspectiveState=new l(0),this._perspective=void 0,this._nodeContext={allocator:this._allocator,transform:c.identity,opacity:1,origin:h,align:null,size:this._size},this._eventOutput.on("resize",function(){this.setSize(o(this.container))}.bind(this))}var r=t("./RenderNode"),n=t("./EventHandler"),a=t("./ElementAllocator"),c=t("./Transform"),l=t("famous/transitions/Transitionable"),h=[0,0];s.prototype.getAllocator=function(){return this._allocator},s.prototype.add=function(t){return this._node.add(t)},s.prototype.migrate=function(t){t!==this.container&&(this.container=t,this._allocator.migrate(t))},s.prototype.getSize=function(){return this._size},s.prototype.setSize=function(t){t||(t=o(this.container)),this._size[0]=t[0],this._size[1]=t[1]},s.prototype.update=function(t){t&&(t.transform&&(this._nodeContext.transform=t.transform),t.opacity&&(this._nodeContext.opacity=t.opacity),t.origin&&(this._nodeContext.origin=t.origin),t.align&&(this._nodeContext.align=t.align),t.size&&(this._nodeContext.size=t.size));var e=this._perspectiveState.get();e!==this._perspective&&(this.container.style.perspective=e?e.toFixed()+"px":"",this.container.style.webkitPerspective=e?e.toFixed():"",this._perspective=e),this._node.commit(this._nodeContext)},s.prototype.getPerspective=function(){return this._perspectiveState.get()},s.prototype.setPerspective=function(t,e,i){return this._perspectiveState.set(t,e,i)},s.prototype.emit=function(t,e){return this._eventOutput.emit(t,e)},s.prototype.on=function(t,e){return this._eventOutput.on(t,e)},s.prototype.removeListener=function(t,e){return this._eventOutput.removeListener(t,e)},s.prototype.pipe=function(t){return this._eventOutput.pipe(t)},s.prototype.unpipe=function(t){return this._eventOutput.unpipe(t)},i.exports=s}),i("famous/core/OptionsManager",["require","exports","module","./EventHandler"],function(t,e,i){function o(t){this._value=t,this.eventOutput=null}function s(){this.eventOutput=new r,this.eventOutput.bindThis(this),r.setOutputHandler(this,this.eventOutput)}var r=t("./EventHandler");o.patch=function(t){for(var e=new o(t),i=1;i<arguments.length;i++)e.patch(arguments[i]);return t},o.prototype.patch=function(){for(var t=this._value,e=0;e<arguments.length;e++){var i=arguments[e];for(var o in i)o in t&&i[o]&&i[o].constructor===Object&&t[o]&&t[o].constructor===Object?(t.hasOwnProperty(o)||(t[o]=Object.create(t[o])),this.key(o).patch(i[o]),this.eventOutput&&this.eventOutput.emit("change",{id:o,value:this.key(o).value()})):this.set(o,i[o])}return this},o.prototype.setOptions=o.prototype.patch,o.prototype.key=function(t){var e=new o(this._value[t]);return(!(e._value instanceof Object)||e._value instanceof Array)&&(e._value={}),e},o.prototype.get=function(t){return this._value[t]},o.prototype.getOptions=o.prototype.get,o.prototype.set=function(t,e){var i=this.get(t);return this._value[t]=e,this.eventOutput&&e!==i&&this.eventOutput.emit("change",{id:t,value:e}),this},o.prototype.value=function(){return this._value},o.prototype.on=function(){return s.call(this),this.on.apply(this,arguments)},o.prototype.removeListener=function(){return s.call(this),this.removeListener.apply(this,arguments)},o.prototype.pipe=function(){return s.call(this),this.pipe.apply(this,arguments)},o.prototype.unpipe=function(){return s.call(this),this.unpipe.apply(this,arguments)},i.exports=o}),i("famous/core/Engine",["require","exports","module","./Context","./EventHandler","./OptionsManager"],function(t,e,i){function o(){g.runLoop?(h.step(),window.requestAnimationFrame(o)):v=!1}function s(){for(var t=0;t<p.length;t++)p[t].emit("resize");m.emit("resize")}var r,n,a=t("./Context"),c=t("./EventHandler"),l=t("./OptionsManager"),h={},p=[],u=[],f=[],d=Date.now(),v=!0,y={},m=new c,g={containerType:"div",containerClass:"famous-container",fpsCap:void 0,runLoop:!0},_=new l(g),S=10;h.step=function(){var t=Date.now();if(!(n&&n>t-d)){var e=0;for(r=t-d,d=t,m.emit("prerender"),e=0;e<u.length;e++)u[e].call(this);for(u.splice(0);f.length&&Date.now()-t<S;)f.shift().call(this);for(e=0;e<p.length;e++)p[e].update();m.emit("postrender")}},window.requestAnimationFrame(o),window.addEventListener("resize",s,!1),s(),window.addEventListener("touchmove",function(t){t.preventDefault()},!0),h.pipe=function(t){return t.subscribe instanceof Function?t.subscribe(h):m.pipe(t)},h.unpipe=function(t){return t.unsubscribe instanceof Function?t.unsubscribe(h):m.unpipe(t)},h.on=function(t,e){return t in y||(y[t]=m.emit.bind(m,t),document.body?document.body.addEventListener(t,y[t]):h.nextTick(function(t,e){document.body.addEventListener(t,e)}.bind(this,t,y[t]))),m.on(t,e)},h.emit=function(t,e){return m.emit(t,e)},h.removeListener=function(t,e){return m.removeListener(t,e)},h.getFPS=function(){return 1e3/r},h.setFPSCap=function(t){n=Math.floor(1e3/t)},h.getOptions=function(){return _.getOptions.apply(_,arguments)},h.setOptions=function(){return _.setOptions.apply(_,arguments)},h.createContext=function(t){var e=!1;t||(t=document.createElement(g.containerType),t.classList.add(g.containerClass),e=!0);var i=new a(t);return h.registerContext(i),e&&h.nextTick(function(t,e){document.body.appendChild(e),t.emit("resize")}.bind(this,i,t)),i},h.registerContext=function(t){return p.push(t),t},h.nextTick=function(t){u.push(t)},h.defer=function(t){f.push(t)},_.on("change",function(t){"fpsCap"===t.id?h.setFPSCap(t.value):"runLoop"===t.id&&!v&&t.value&&(v=!0,window.requestAnimationFrame(o))}),i.exports=h}),i("famous/utilities/Timer",["require","exports","module","famous/core/Engine"],function(t,e,i){function o(t){return h.on(p,t),t}function s(t,e){var i=u(),s=function(){var o=u();o-i>=e&&(t.apply(this,arguments),h.removeListener(p,s))};return o(s)}function r(t,e){var i=u(),s=function(){var o=u();o-i>=e&&(t.apply(this,arguments),i=u())};return o(s)}function n(t,e){if(void 0===e)return void 0;var i=function(){e--,0>=e&&(t.apply(this,arguments),c(i))};return o(i)}function a(t,e){e=e||1;var i=e,s=function(){e--,0>=e&&(t.apply(this,arguments),e=i)};return o(s)}function c(t){h.removeListener(p,t)}function l(t,e){var i,o,r,n,a;return function(){o=this,a=arguments,r=u();var l=function(){var c=u-r;e>c?i=s(l,e-c):(i=null,n=t.apply(o,a))};return c(i),i=s(l,e),n}}var h=t("famous/core/Engine"),p="prerender",u=window.performance?function(){return window.performance.now()}:function(){return Date.now()};i.exports={setTimeout:s,setInterval:r,debounce:l,after:n,every:a,clear:c}}),i("famous/core/View",["require","exports","module","./EventHandler","./OptionsManager","./RenderNode"],function(t,e,i){function o(t){this._node=new n,this._eventInput=new s,this._eventOutput=new s,s.setInputHandler(this,this._eventInput),s.setOutputHandler(this,this._eventOutput),this.options=Object.create(this.constructor.DEFAULT_OPTIONS||o.DEFAULT_OPTIONS),this._optionsManager=new r(this.options),t&&this.setOptions(t)}var s=t("./EventHandler"),r=t("./OptionsManager"),n=t("./RenderNode");o.DEFAULT_OPTIONS={},o.prototype.getOptions=function(){return this._optionsManager.value()},o.prototype.setOptions=function(t){this._optionsManager.patch(t)},o.prototype.add=function(){return this._node.add.apply(this._node,arguments)},o.prototype._add=o.prototype.add,o.prototype.render=function(){return this._node.render()},o.prototype.getSize=function(){return this._node&&this._node.getSize?this._node.getSize.apply(this._node,arguments)||this.options.size:this.options.size},i.exports=o}),i("famous/core/Surface",["require","exports","module","./Entity","./EventHandler","./Transform"],function(t,e,i){function o(t){this.options={},this.properties={},this.content="",this.classList=[],this.size=null,this._classesDirty=!0,this._stylesDirty=!0,this._sizeDirty=!0,this._contentDirty=!0,this._dirtyClasses=[],this._matrix=null,this._opacity=1,this._origin=null,this._size=null,this.eventForwarder=function(t){this.emit(t.type,t)}.bind(this),this.eventHandler=new f,this.eventHandler.bindThis(this),this.id=u.register(this),t&&this.setOptions(t),this._currTarget=null}function s(t){for(var e in this.eventHandler.listeners)t.addEventListener(e,this.eventForwarder)}function r(t){for(var e in this.eventHandler.listeners)t.removeEventListener(e,this.eventForwarder)
}function n(t){for(var e=0;e<this._dirtyClasses.length;e++)t.classList.remove(this._dirtyClasses[e]);this._dirtyClasses=[]}function a(t){for(var e in this.properties)t.style[e]=this.properties[e]}function c(t){for(var e in this.properties)t.style[e]=""}function l(t){t[12]=Math.round(t[12]*v)/v,t[13]=Math.round(t[13]*v)/v;for(var e="matrix3d(",i=0;15>i;i++)e+=t[i]<1e-6&&t[i]>-1e-6?"0,":t[i]+",";return e+=t[15]+")"}function h(t){return 100*t[0]+"% "+100*t[1]+"%"}function p(t,e){return t&&e?t[0]!==e[0]||t[1]!==e[1]:t!==e}var u=t("./Entity"),f=t("./EventHandler"),d=t("./Transform"),v=window.devicePixelRatio||1,y=void 0!==document.createElement("div").style.webkitTransform;o.prototype.elementType="div",o.prototype.elementClass="famous-surface",o.prototype.on=function(t,e){this._currTarget&&this._currTarget.addEventListener(t,this.eventForwarder),this.eventHandler.on(t,e)},o.prototype.removeListener=function(t,e){this.eventHandler.removeListener(t,e)},o.prototype.emit=function(t,e){e&&!e.origin&&(e.origin=this);var i=this.eventHandler.emit(t,e);return i&&e&&e.stopPropagation&&e.stopPropagation(),i},o.prototype.pipe=function(t){return this.eventHandler.pipe(t)},o.prototype.unpipe=function(t){return this.eventHandler.unpipe(t)},o.prototype.render=function(){return this.id},o.prototype.setProperties=function(t){for(var e in t)this.properties[e]=t[e];this._stylesDirty=!0},o.prototype.getProperties=function(){return this.properties},o.prototype.addClass=function(t){this.classList.indexOf(t)<0&&(this.classList.push(t),this._classesDirty=!0)},o.prototype.removeClass=function(t){var e=this.classList.indexOf(t);e>=0&&(this._dirtyClasses.push(this.classList.splice(e,1)[0]),this._classesDirty=!0)},o.prototype.setClasses=function(t){var e=0,i=[];for(e=0;e<this.classList.length;e++)t.indexOf(this.classList[e])<0&&i.push(this.classList[e]);for(e=0;e<i.length;e++)this.removeClass(i[e]);for(e=0;e<t.length;e++)this.addClass(t[e])},o.prototype.getClassList=function(){return this.classList},o.prototype.setContent=function(t){this.content!==t&&(this.content=t,this._contentDirty=!0)},o.prototype.getContent=function(){return this.content},o.prototype.setOptions=function(t){t.size&&this.setSize(t.size),t.classes&&this.setClasses(t.classes),t.properties&&this.setProperties(t.properties),t.content&&this.setContent(t.content)};var m;m=navigator.userAgent.toLowerCase().indexOf("firefox")>-1?function(t,e){t.style.zIndex=1e6*e[14]|0,t.style.transform=l(e)}:y?function(t,e){t.style.webkitTransform=l(e)}:function(t,e){t.style.transform=l(e)};var g=y?function(t,e){t.style.webkitTransformOrigin=h(e)}:function(t,e){t.style.transformOrigin=h(e)},_=y?function(t){t.style.webkitTransform="scale3d(0.0001,0.0001,1)",t.style.opacity=0}:function(t){t.style.transform="scale3d(0.0001,0.0001,1)",t.style.opacity=0};o.prototype.setup=function(t){var e=t.allocate(this.elementType);if(this.elementClass)if(this.elementClass instanceof Array)for(var i=0;i<this.elementClass.length;i++)e.classList.add(this.elementClass[i]);else e.classList.add(this.elementClass);e.style.display="",s.call(this,e),this._currTarget=e,this._stylesDirty=!0,this._classesDirty=!0,this._sizeDirty=!0,this._contentDirty=!0,this._matrix=null,this._opacity=void 0,this._origin=null,this._size=null},o.prototype.commit=function(t){this._currTarget||this.setup(t.allocator);var e=this._currTarget,i=t.transform,o=t.opacity,s=t.origin,r=t.size;if(this._classesDirty){n.call(this,e);for(var c=this.getClassList(),l=0;l<c.length;l++)e.classList.add(c[l]);this._classesDirty=!1}if(this._stylesDirty&&(a.call(this,e),this._stylesDirty=!1),this._contentDirty&&(this.deploy(e),this.eventHandler.emit("deploy"),this._contentDirty=!1),this.size){var h=r;r=[this.size[0],this.size[1]],void 0===r[0]&&h[0]&&(r[0]=h[0]),void 0===r[1]&&h[1]&&(r[1]=h[1])}if(r[0]===!0&&(r[0]=e.clientWidth),r[1]===!0&&(r[1]=e.clientHeight),p(this._size,r)&&(this._size||(this._size=[0,0]),this._size[0]=r[0],this._size[1]=r[1],this._sizeDirty=!0),!i&&this._matrix)return this._matrix=null,this._opacity=0,void _(e);if(this._opacity!==o&&(this._opacity=o,e.style.opacity=o>=1?"0.999999":o),p(this._origin,s)||d.notEquals(this._matrix,i)||this._sizeDirty){i||(i=d.identity),this._matrix=i;var u=i;s&&(this._origin||(this._origin=[0,0]),this._origin[0]=s[0],this._origin[1]=s[1],u=d.thenMove(i,[-this._size[0]*s[0],-this._size[1]*s[1],0]),g(e,s)),m(e,u)}this._sizeDirty&&(this._size&&(e.style.width=this.size&&this.size[0]===!0?"":this._size[0]+"px",e.style.height=this.size&&this.size[1]===!0?"":this._size[1]+"px"),this._sizeDirty=!1)},o.prototype.cleanup=function(t){var e=0,i=this._currTarget;this.eventHandler.emit("recall"),this.recall(i),i.style.display="none",i.style.width="",i.style.height="",this._size=null,c.call(this,i);var o=this.getClassList();for(n.call(this,i),e=0;e<o.length;e++)i.classList.remove(o[e]);if(this.elementClass)if(this.elementClass instanceof Array)for(e=0;e<this.elementClass.length;e++)i.classList.remove(this.elementClass[e]);else i.classList.remove(this.elementClass);r.call(this,i),this._currTarget=null,t.deallocate(i),_(i)},o.prototype.deploy=function(t){var e=this.getContent();if(e instanceof Node){for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}else t.innerHTML=e},o.prototype.recall=function(t){for(var e=document.createDocumentFragment();t.hasChildNodes();)e.appendChild(t.firstChild);this.setContent(e)},o.prototype.getSize=function(t){return t?this._size:this.size||this._size},o.prototype.setSize=function(t){this.size=t?[t[0],t[1]]:null,this._sizeDirty=!0},i.exports=o}),i("famous/inputs/GenericSync",["require","exports","module","famous/core/EventHandler"],function(t,e,i){function o(t,e){this._eventInput=new r,this._eventOutput=new r,r.setInputHandler(this,this._eventInput),r.setOutputHandler(this,this._eventOutput),this._syncs={},t&&this.addSync(t),e&&this.setOptions(e)}function s(t,e){n[t]&&(this._syncs[t]=new n[t](e),this.pipeSync(t))}var r=t("famous/core/EventHandler");o.DIRECTION_X=0,o.DIRECTION_Y=1,o.DIRECTION_Z=2;var n={};o.register=function(t){for(var e in t){if(n[e]){if(n[e]===t[e])return;throw new Error("this key is registered to a different sync class")}n[e]=t[e]}},o.prototype.setOptions=function(t){for(var e in this._syncs)this._syncs[e].setOptions(t)},o.prototype.pipeSync=function(t){var e=this._syncs[t];this._eventInput.pipe(e),e.pipe(this._eventOutput)},o.prototype.unpipeSync=function(t){var e=this._syncs[t];this._eventInput.unpipe(e),e.unpipe(this._eventOutput)},o.prototype.addSync=function(t){if(t instanceof Array)for(var e=0;e<t.length;e++)s.call(this,t[e]);else if(t instanceof Object)for(var i in t)s.call(this,i,t[i])},i.exports=o}),i("famous/inputs/MouseSync",["require","exports","module","famous/core/EventHandler"],function(t,e,i){function o(t){this.options=Object.create(o.DEFAULT_OPTIONS),t&&this.setOptions(t),this._eventInput=new c,this._eventOutput=new c,c.setInputHandler(this,this._eventInput),c.setOutputHandler(this,this._eventOutput),this._eventInput.on("mousedown",s.bind(this)),this._eventInput.on("mousemove",r.bind(this)),this._eventInput.on("mouseup",n.bind(this)),this.options.propogate?this._eventInput.on("mouseleave",a.bind(this)):this._eventInput.on("mouseleave",n.bind(this)),this._payload={delta:null,position:null,velocity:null,clientX:0,clientY:0,offsetX:0,offsetY:0},this._position=null,this._prevCoord=void 0,this._prevTime=void 0,this._down=!1,this._moved=!1}function s(t){var e,i;t.preventDefault();var o=t.clientX,s=t.clientY;this._prevCoord=[o,s],this._prevTime=h(),this._down=!0,this._move=!1,void 0!==this.options.direction?(this._position=0,e=0,i=0):(this._position=[0,0],e=[0,0],i=[0,0]);var r=this._payload;r.delta=e,r.position=this._position,r.velocity=i,r.clientX=o,r.clientY=s,r.offsetX=t.offsetX,r.offsetY=t.offsetY,this._eventOutput.emit("start",r)}function r(t){if(this._prevCoord){var e=this._prevCoord,i=this._prevTime,s=t.clientX,r=t.clientY,n=h(),a=s-e[0],c=r-e[1];this.options.rails&&(Math.abs(a)>Math.abs(c)?c=0:a=0);var p,u,f=Math.max(n-i,l),d=a/f,v=c/f,y=this.options.scale;this.options.direction===o.DIRECTION_X?(u=y*a,p=y*d,this._position+=u):this.options.direction===o.DIRECTION_Y?(u=y*c,p=y*v,this._position+=u):(u=[y*a,y*c],p=[y*d,y*v],this._position[0]+=u[0],this._position[1]+=u[1]);var m=this._payload;m.delta=u,m.position=this._position,m.velocity=p,m.clientX=s,m.clientY=r,m.offsetX=t.offsetX,m.offsetY=t.offsetY,this._eventOutput.emit("update",m),this._prevCoord=[s,r],this._prevTime=n,this._move=!0}}function n(){this._down&&(this._eventOutput.emit("end",this._payload),this._prevCoord=void 0,this._prevTime=void 0,this._down=!1,this._move=!1)}function a(t){if(this._down&&this._move){var e=r.bind(this),i=function(t){n.call(this,t),document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",i)}.bind(this,t);document.addEventListener("mousemove",e),document.addEventListener("mouseup",i)}}var c=t("famous/core/EventHandler");o.DEFAULT_OPTIONS={direction:void 0,rails:!1,scale:1,propogate:!0},o.DIRECTION_X=0,o.DIRECTION_Y=1;var l=8,h=Date.now;o.prototype.getOptions=function(){return this.options},o.prototype.setOptions=function(t){void 0!==t.direction&&(this.options.direction=t.direction),void 0!==t.rails&&(this.options.rails=t.rails),void 0!==t.scale&&(this.options.scale=t.scale),void 0!==t.propogate&&(this.options.propogate=t.propogate)},i.exports=o}),i("famous/inputs/TouchTracker",["require","exports","module","famous/core/EventHandler"],function(t,e,i){function o(t,e,i){return{x:t.clientX,y:t.clientY,identifier:t.identifier,origin:e.origin,timestamp:h(),count:e.touches.length,history:i}}function s(t){for(var e=0;e<t.changedTouches.length;e++){var i=t.changedTouches[e],s=o(i,t,null);this.eventOutput.emit("trackstart",s),this.selective||this.touchHistory[i.identifier]||this.track(s)}}function r(t){for(var e=0;e<t.changedTouches.length;e++){var i=t.changedTouches[e],s=this.touchHistory[i.identifier];if(s){var r=o(i,t,s);this.touchHistory[i.identifier].push(r),this.eventOutput.emit("trackmove",r)}}}function n(t){for(var e=0;e<t.changedTouches.length;e++){var i=t.changedTouches[e],s=this.touchHistory[i.identifier];if(s){var r=o(i,t,s);this.eventOutput.emit("trackend",r),delete this.touchHistory[i.identifier]}}}function a(){for(var t in this.touchHistory){var e=this.touchHistory[t];this.eventOutput.emit("trackend",{touch:e[e.length-1].touch,timestamp:Date.now(),count:0,history:e}),delete this.touchHistory[t]}}function c(t){this.selective=t,this.touchHistory={},this.eventInput=new l,this.eventOutput=new l,l.setInputHandler(this,this.eventInput),l.setOutputHandler(this,this.eventOutput),this.eventInput.on("touchstart",s.bind(this)),this.eventInput.on("touchmove",r.bind(this)),this.eventInput.on("touchend",n.bind(this)),this.eventInput.on("touchcancel",n.bind(this)),this.eventInput.on("unpipe",a.bind(this))}var l=t("famous/core/EventHandler"),h=Date.now;c.prototype.track=function(t){this.touchHistory[t.identifier]=[t]},i.exports=c}),i("famous/inputs/TouchSync",["require","exports","module","./TouchTracker","famous/core/EventHandler"],function(t,e,i){function o(t){this.options=Object.create(o.DEFAULT_OPTIONS),t&&this.setOptions(t),this._eventOutput=new c,this._touchTracker=new a,c.setOutputHandler(this,this._eventOutput),c.setInputHandler(this,this._touchTracker),this._touchTracker.on("trackstart",s.bind(this)),this._touchTracker.on("trackmove",r.bind(this)),this._touchTracker.on("trackend",n.bind(this)),this._payload={delta:null,position:null,velocity:null,clientX:void 0,clientY:void 0,count:0,touch:void 0},this._position=null}function s(t){var e,i;void 0!==this.options.direction?(this._position=0,e=0,i=0):(this._position=[0,0],e=[0,0],i=[0,0]);var o=this._payload;o.delta=i,o.position=this._position,o.velocity=e,o.clientX=t.x,o.clientY=t.y,o.count=t.count,o.touch=t.identifier,this._eventOutput.emit("start",o)}function r(t){var e=t.history,i=e[e.length-1],s=e[e.length-2],r=s.timestamp,n=i.timestamp,a=i.x-s.x,c=i.y-s.y;this.options.rails&&(Math.abs(a)>Math.abs(c)?c=0:a=0);var h,p,u=Math.max(n-r,l),f=a/u,d=c/u,v=this.options.scale;this.options.direction===o.DIRECTION_X?(p=v*a,h=v*f,this._position+=p):this.options.direction===o.DIRECTION_Y?(p=v*c,h=v*d,this._position+=p):(p=[v*a,v*c],h=[v*f,v*d],this._position[0]+=p[0],this._position[1]+=p[1]);var y=this._payload;y.delta=p,y.velocity=h,y.position=this._position,y.clientX=t.x,y.clientY=t.y,y.count=t.count,y.touch=t.identifier,this._eventOutput.emit("update",y)}function n(t){this._payload.count=t.count,this._eventOutput.emit("end",this._payload)}var a=t("./TouchTracker"),c=t("famous/core/EventHandler");o.DEFAULT_OPTIONS={direction:void 0,rails:!1,scale:1},o.DIRECTION_X=0,o.DIRECTION_Y=1;var l=8;o.prototype.setOptions=function(t){void 0!==t.direction&&(this.options.direction=t.direction),void 0!==t.rails&&(this.options.rails=t.rails),void 0!==t.scale&&(this.options.scale=t.scale)},o.prototype.getOptions=function(){return this.options},i.exports=o}),i("famous/inputs/ScrollSync",["require","exports","module","famous/core/EventHandler","famous/core/Engine"],function(t,e,i){function o(t){this.options=Object.create(o.DEFAULT_OPTIONS),t&&this.setOptions(t),this._payload={delta:null,position:null,velocity:null,slip:!0},this._eventInput=new n,this._eventOutput=new n,n.setInputHandler(this,this._eventInput),n.setOutputHandler(this,this._eventOutput),this._position=void 0===this.options.direction?[0,0]:0,this._prevTime=void 0,this._prevVel=void 0,this._eventInput.on("mousewheel",r.bind(this)),this._eventInput.on("wheel",r.bind(this)),this._inProgress=!1,this._loopBound=!1}function s(){if(this._inProgress&&l()-this._prevTime>this.options.stallTime){this._inProgress=!1;var t=Math.abs(this._prevVel)>=this.options.minimumEndSpeed?this._prevVel:0,e=this._payload;e.position=this._position,e.velocity=t,e.slip=!0,this._eventOutput.emit("end",e)}}function r(t){t.preventDefault(),this._inProgress||(this._inProgress=!0,this._position=void 0===this.options.direction?[0,0]:0,y=this._payload,y.slip=!0,y.position=this._position,y.clientX=t.clientX,y.clientY=t.clientY,y.offsetX=t.offsetX,y.offsetY=t.offsetY,this._eventOutput.emit("start",y),this._loopBound||(a.on("prerender",s.bind(this)),this._loopBound=!0));var e=l(),i=this._prevTime||e,r=void 0!==t.wheelDeltaX?t.wheelDeltaX:-t.deltaX,n=void 0!==t.wheelDeltaY?t.wheelDeltaY:-t.deltaY;1===t.deltaMode&&(r*=this.options.lineHeight,n*=this.options.lineHeight),this.options.rails&&(Math.abs(r)>Math.abs(n)?n=0:r=0);var h,p,u=Math.max(e-i,c),f=r/u,d=n/u,v=this.options.scale;this.options.direction===o.DIRECTION_X?(p=v*r,h=v*f,this._position+=p):this.options.direction===o.DIRECTION_Y?(p=v*n,h=v*d,this._position+=p):(p=[v*r,v*n],h=[v*f,v*d],this._position[0]+=p[0],this._position[1]+=p[1]);var y=this._payload;y.delta=p,y.velocity=h,y.position=this._position,y.slip=!0,this._eventOutput.emit("update",y),this._prevTime=e,this._prevVel=h}var n=t("famous/core/EventHandler"),a=t("famous/core/Engine");o.DEFAULT_OPTIONS={direction:void 0,minimumEndSpeed:1/0,rails:!1,scale:1,stallTime:50,lineHeight:40},o.DIRECTION_X=0,o.DIRECTION_Y=1;var c=8,l=Date.now;o.prototype.getOptions=function(){return this.options},o.prototype.setOptions=function(t){void 0!==t.direction&&(this.options.direction=t.direction),void 0!==t.minimumEndSpeed&&(this.options.minimumEndSpeed=t.minimumEndSpeed),void 0!==t.rails&&(this.options.rails=t.rails),void 0!==t.scale&&(this.options.scale=t.scale),void 0!==t.stallTime&&(this.options.stallTime=t.stallTime)},i.exports=o}),i("views/StageView",["require","exports","module","famous/core/Engine","famous/utilities/Timer","famous/core/View","famous/core/Surface","famous/inputs/GenericSync","famous/inputs/MouseSync","famous/inputs/TouchSync","famous/inputs/ScrollSync"],function(t,e,i){function o(){h.apply(this,arguments),this.worldScrollValue=0,this._arrowData=this.options.arrowData,s.call(this),r.call(this),a.call(this,16,60)}function s(){this.scrollRecieverSurface=new p({size:[void 0,void 0]}),this.add(this.scrollRecieverSurface)}function r(){this.sync=new u(["touch","scroll"],{direction:u.DIRECTION_Y}),this.scrollRecieverSurface.pipe(this.sync),this.sync.on("update",function(t){this.worldScrollValue-=t.delta,n.call(this,t.delta)}.bind(this)),this.sync.on("end",function(){}.bind(this))}function n(t){this._eventOutput.emit("ScrollUpdated",{delta:-t})}function a(t,e){var i=37,o=38,s=39,r=40;this._arrowData.speed=t||this._arrowData.speed,this._arrowData.step=e||this._arrowData.step;var a;c.on("keydown",function(t){function e(t){t=t?t:"forward";var e,i=this._arrowData.breakpoints;"forward"!==t&&(i=i.slice(0).reverse());for(var o=0;o<i.length;o++)if("forward"===t&&this.worldScrollValue<i[o]||"forward"!==t&&this.worldScrollValue>i[o]){e=i[o];break}return e}var c;this._arrowData.interval&&(l.clear(this._arrowData.interval),delete this._arrowData.interval),(t.keyCode===r||t.keyCode===i||t.keyCode===o||t.keyCode===s)&&(c=t.keyCode===r||t.keyCode===s?"forward":"reverse",a=e.call(this,c),this._arrowData.interval=l.setInterval(function(){if("reverse"===c&&this.worldScrollValue<=a||"forward"===c&&this.worldScrollValue>=a)l.clear(this._arrowData.interval),delete this._arrowData.interval;else if("forward"===c?this.worldScrollValue<a:this.worldScrollValue>a){var t=Math.min(this._arrowData.step,"forward"===c?a-this.worldScrollValue:this.worldScrollValue-a);t="forward"===c?-t:t,this.worldScrollValue-=t,n.call(this,t)}else l.clear(this._arrowData.interval),delete this._arrowData.interval}.bind(this),this._arrowData.speed))}.bind(this))}var c=t("famous/core/Engine"),l=t("famous/utilities/Timer"),h=t("famous/core/View"),p=t("famous/core/Surface"),u=t("famous/inputs/GenericSync"),f=t("famous/inputs/MouseSync"),d=t("famous/inputs/TouchSync"),v=t("famous/inputs/ScrollSync");u.register({mouse:f,touch:d,scroll:v}),o.DEFAULT_OPTIONS={arrowData:{breakpoints:[0],speed:4,step:10}},o.prototype=Object.create(h.prototype),o.prototype.constructor=o,o.prototype.addActor=function(t){t.activate(this.sync),t.subscribe(this._eventOutput),this.add(t)},o.prototype.updateArrowKeyBreakpoints=function(t){t=t.sort(function(t,e){return t-e}),0!==t[0]&&(t=[0].concat(t)),this._arrowData.breakpoints=t},i.exports=o}),i("famous/transitions/TransitionableTransform",["require","exports","module","./Transitionable","famous/core/Transform","famous/utilities/Utility"],function(t,e,i){function o(t){this._final=n.identity.slice(),this.translate=new r([0,0,0]),this.rotate=new r([0,0,0]),this.skew=new r([0,0,0]),this.scale=new r([1,1,1]),t&&this.set(t)}function s(){return n.build({translate:this.translate.get(),rotate:this.rotate.get(),skew:this.skew.get(),scale:this.scale.get()})}var r=t("./Transitionable"),n=t("famous/core/Transform"),a=t("famous/utilities/Utility");o.prototype.setTranslate=function(t,e,i){return this.translate.set(t,e,i),this._final=this._final.slice(),this._final[12]=t[0],this._final[13]=t[1],void 0!==t[2]&&(this._final[14]=t[2]),this},o.prototype.setScale=function(t,e,i){return this.scale.set(t,e,i),this._final=this._final.slice(),this._final[0]=t[0],this._final[5]=t[1],void 0!==t[2]&&(this._final[10]=t[2]),this},o.prototype.setRotate=function(t,e,i){return this.rotate.set(t,e,i),this._final=s.call(this),this._final=n.build({translate:this.translate.get(),rotate:t,scale:this.scale.get(),skew:this.skew.get()}),this},o.prototype.setSkew=function(t,e,i){return this.skew.set(t,e,i),this._final=n.build({translate:this.translate.get(),rotate:this.rotate.get(),scale:this.scale.get(),skew:t}),this},o.prototype.set=function(t,e,i){this._final=t;var o=n.interpret(t),s=i?a.after(4,i):null;return this.translate.set(o.translate,e,s),this.rotate.set(o.rotate,e,s),this.skew.set(o.skew,e,s),this.scale.set(o.scale,e,s),this},o.prototype.setDefaultTransition=function(t){this.translate.setDefault(t),this.rotate.setDefault(t),this.skew.setDefault(t),this.scale.setDefault(t)},o.prototype.get=function(){return this.isActive()?s.call(this):this._final},o.prototype.getFinal=function(){return this._final},o.prototype.isActive=function(){return this.translate.isActive()||this.rotate.isActive()||this.scale.isActive()||this.skew.isActive()},o.prototype.halt=function(){this._final=this.get(),this.translate.halt(),this.rotate.halt(),this.skew.halt(),this.scale.halt()},i.exports=o}),i("famous/core/Modifier",["require","exports","module","./Transform","famous/transitions/Transitionable","famous/transitions/TransitionableTransform"],function(t,e,i){function o(t){this._transformGetter=null,this._opacityGetter=null,this._originGetter=null,this._alignGetter=null,this._sizeGetter=null,this._legacyStates={},this._output={transform:r.identity,opacity:1,origin:null,align:null,size:null,target:null},t&&(t.transform&&this.transformFrom(t.transform),void 0!==t.opacity&&this.opacityFrom(t.opacity),t.origin&&this.originFrom(t.origin),t.align&&this.alignFrom(t.align),t.size&&this.sizeFrom(t.size))}function s(){this._transformGetter&&(this._output.transform=this._transformGetter()),this._opacityGetter&&(this._output.opacity=this._opacityGetter()),this._originGetter&&(this._output.origin=this._originGetter()),this._alignGetter&&(this._output.align=this._alignGetter()),this._sizeGetter&&(this._output.size=this._sizeGetter())}var r=t("./Transform"),n=t("famous/transitions/Transitionable"),a=t("famous/transitions/TransitionableTransform");o.prototype.transformFrom=function(t){return t instanceof Function?this._transformGetter=t:t instanceof Object&&t.get?this._transformGetter=t.get.bind(t):(this._transformGetter=null,this._output.transform=t),this},o.prototype.opacityFrom=function(t){return t instanceof Function?this._opacityGetter=t:t instanceof Object&&t.get?this._opacityGetter=t.get.bind(t):(this._opacityGetter=null,this._output.opacity=t),this},o.prototype.originFrom=function(t){return t instanceof Function?this._originGetter=t:t instanceof Object&&t.get?this._originGetter=t.get.bind(t):(this._originGetter=null,this._output.origin=t),this},o.prototype.alignFrom=function(t){return t instanceof Function?this._alignGetter=t:t instanceof Object&&t.get?this._alignGetter=t.get.bind(t):(this._alignGetter=null,this._output.align=t),this},o.prototype.sizeFrom=function(t){return t instanceof Function?this._sizeGetter=t:t instanceof Object&&t.get?this._sizeGetter=t.get.bind(t):(this._sizeGetter=null,this._output.size=t),this},o.prototype.setTransform=function(t,e,i){return e||this._legacyStates.transform?(this._legacyStates.transform||(this._legacyStates.transform=new a(this._output.transform)),this._transformGetter||this.transformFrom(this._legacyStates.transform),this._legacyStates.transform.set(t,e,i),this):this.transformFrom(t)},o.prototype.setOpacity=function(t,e,i){return e||this._legacyStates.opacity?(this._legacyStates.opacity||(this._legacyStates.opacity=new n(this._output.opacity)),this._opacityGetter||this.opacityFrom(this._legacyStates.opacity),this._legacyStates.opacity.set(t,e,i)):this.opacityFrom(t)},o.prototype.setOrigin=function(t,e,i){return e||this._legacyStates.origin?(this._legacyStates.origin||(this._legacyStates.origin=new n(this._output.origin||[0,0])),this._originGetter||this.originFrom(this._legacyStates.origin),this._legacyStates.origin.set(t,e,i),this):this.originFrom(t)},o.prototype.setAlign=function(t,e,i){return e||this._legacyStates.align?(this._legacyStates.align||(this._legacyStates.align=new n(this._output.align||[0,0])),this._alignGetter||this.alignFrom(this._legacyStates.align),this._legacyStates.align.set(t,e,i),this):this.alignFrom(t)},o.prototype.setSize=function(t,e,i){return t&&(e||this._legacyStates.size)?(this._legacyStates.size||(this._legacyStates.size=new n(this._output.size||[0,0])),this._sizeGetter||this.sizeFrom(this._legacyStates.size),this._legacyStates.size.set(t,e,i),this):this.sizeFrom(t)},o.prototype.halt=function(){this._legacyStates.transform&&this._legacyStates.transform.halt(),this._legacyStates.opacity&&this._legacyStates.opacity.halt(),this._legacyStates.origin&&this._legacyStates.origin.halt(),this._legacyStates.align&&this._legacyStates.align.halt(),this._legacyStates.size&&this._legacyStates.size.halt(),this._transformGetter=null,this._opacityGetter=null,this._originGetter=null,this._alignGetter=null,this._sizeGetter=null},o.prototype.getTransform=function(){return this._transformGetter()},o.prototype.getFinalTransform=function(){return this._legacyStates.transform?this._legacyStates.transform.getFinal():this._output.transform},o.prototype.getOpacity=function(){return this._opacityGetter()},o.prototype.getOrigin=function(){return this._originGetter()},o.prototype.getAlign=function(){return this._alignGetter()},o.prototype.getSize=function(){return this._sizeGetter?this._sizeGetter():this._output.size},o.prototype.modify=function(t){return s.call(this),this._output.target=t,this._output},i.exports=o}),i("famous/modifiers/ModifierChain",["require","exports","module"],function(t,e,i){function o(){this._chain=[],arguments.length&&this.addModifier.apply(this,arguments)}o.prototype.addModifier=function(){Array.prototype.push.apply(this._chain,arguments)},o.prototype.removeModifier=function(t){var e=this._chain.indexOf(t);0>e||this._chain.splice(e,1)},o.prototype.modify=function(t){for(var e=this._chain,i=t,o=0;o<e.length;o++)i=e[o].modify(i);return i},i.exports=o}),i("tools/UnitConverter",["require","exports","module"],function(t,e,i){var o={};o.ratioXtoPixels=function(t){return t*window.innerWidth},o.ratioYtoPixels=function(t){return t*window.innerHeight},o.pixelsToRatioX=function(t){return t/window.innerWidth},o.pixelsToRatioY=function(t){return t/window.innerHeight},o.degreesToRadians=function(t){return t*(Math.PI/180)},o.radiansToDegrees=function(t){return t*(180/Math.PI)},o.percentageToPixelsX=function(t){return Math.round(o.ratioXtoPixels(t/100))},o.percentageToPixelsY=function(t){return Math.round(o.ratioYtoPixels(t/100))},i.exports=o}),i("views/ActorView",["require","exports","module","famous/core/View","famous/core/Surface","famous/core/Modifier","famous/core/Transform","famous/modifiers/ModifierChain","tools/UnitConverter"],function(t,e,i){function o(){c.apply(this,arguments),this.modifiers=[],this.modifierChain=new u,this.scrollProgress=0,this.xPosition=this.options.xPosition,this.yPosition=this.options.yPosition,this.zPosition=this.options.zPosition,this.scaleX=this.options.scaleX,this.scaleY=this.options.scaleY,this.opacity=this.options.opacity,this.destination=this.options.destination,this.name=this.options.name,s.call(this)}function s(){this._eventInput.on("ScrollUpdated",n.bind(this))}function r(){var t=new h({origin:[.5,.5],align:function(){return[this.xPosition,this.yPosition]}.bind(this),transform:p.translate(0,0,this.zPosition)});this.modifierChain.addModifier(t)}function n(t){this.scrollProgress+=t.delta,a.call(this,t.delta)}function a(t){for(var e=0;e<this.modifiers.length;e++){var i=this.modifiers[e];i.checkAndUpdate(this.scrollProgress,t)}}var c=t("famous/core/View"),l=t("famous/core/Surface"),h=t("famous/core/Modifier"),p=t("famous/core/Transform"),u=t("famous/modifiers/ModifierChain"),f=t("tools/UnitConverter");o.DEFAULT_OPTIONS={name:void 0,xPosition:.5,yPosition:.5,zPosition:0,opacity:1,destination:void 0,surfaceOptions:{size:[300,300],content:"This is a demo",properties:{backgroundColor:"blue",fontSize:"4em",padding:".5em",backfaceVisibility:"visible"}}},o.prototype=Object.create(c.prototype),o.prototype.constructor=o,o.prototype.addModifier=function(t){this.modifiers.push(t),this.modifierChain.addModifier(t)},o.prototype.addSurface=function(t){this.mainSurface=t},o.prototype.setPositionRatio=function(t,e){this.xPosition=t,this.yPosition=e},o.prototype.setPositionPixels=function(t,e){this.xPosition=f.pixelsToRatioX(t),this.yPosition=f.pixelsToRatioY(e)},o.prototype.incrementPosition=function(t,e){this.xPosition+=t,this.yPosition+=e},o.prototype.activate=function(t){this.mainSurface||(this.mainSurface=new l(this.options.surfaceOptions)),this.mainSurface.pipe(t),r.call(this),this.add(this.modifierChain).add(this.mainSurface)},i.exports=o}),i("famous/surfaces/ImageSurface",["require","exports","module","famous/core/Surface"],function(t,e,i){function o(){this._imageUrl=void 0,s.apply(this,arguments)}var s=t("famous/core/Surface");o.prototype=Object.create(s.prototype),o.prototype.constructor=o,o.prototype.elementType="img",o.prototype.elementClass="famous-surface",o.prototype.setContent=function(t){this._imageUrl=t,this._contentDirty=!0},o.prototype.deploy=function(t){t.src=this._imageUrl||""},o.prototype.recall=function(t){t.src=""},i.exports=o}),i("tools/ActorFactory",["require","exports","module","views/ActorView","tools/UnitConverter","famous/core/Surface","famous/surfaces/ImageSurface"],function(t,e,i){function o(){this.actors={}}var s=t("views/ActorView"),r=(t("tools/UnitConverter"),t("famous/core/Surface")),n=t("famous/surfaces/ImageSurface");o.prototype.makeActor=function(t,e,i,o,a,c,l){var h;o?o.push("backfaceVisibility"):o=["backfaceVisibility"],"html"===e&&(h=new r({size:c,content:i,properties:a,classes:o})),"image"===e&&(h=new n({size:c,content:i,properties:a,classes:o}));var p=new s({name:t,zPosition:a.zPosition,opacity:void 0!==l?l:1});return p.addSurface(h),this.actors[t]=p,p},o.prototype.getActor=function(t){return this.actors[t]},i.exports=o}),i("modifiers/MoveToModifier",["require","exports","module","tools/UnitConverter","famous/core/OptionsManager","famous/core/Modifier"],function(t,e,i){function o(t){this.options=Object.create(o.DEFAULT_OPTIONS),this._optionsManager=new n(this.options),t&&this.setOptions(t),this.actor=this.options.actor,this.scrollStart=this.options.scrollStart,this.scrollStop=this.options.scrollStop,this.scrollRange=this.options.scrollStop-this.options.scrollStart,this.curveFn=this.options.curveFn,this.pixelsStopX=this.options.pixelsStopX,this.pixelsStopY=this.options.pixelsStopY,this.scrollState="inactive",s.call(this),a.call(this,this.modifier)}function s(){this.modifier={origin:[.5,.5],align:function(){return[this.actor.xPosition,this.actor.yPosition]}.bind(this)}}var r=t("tools/UnitConverter"),n=t("famous/core/OptionsManager"),a=t("famous/core/Modifier");o.DEFAULT_OPTIONS={actor:void 0,scrollStart:0,scrollStop:0,curveFn:function(t){return t},pixelsStopX:0,pixelsStopY:0},o.prototype=Object.create(a.prototype),o.prototype.constructor=o,o.prototype.setOptions=function(t){this._optionsManager.patch(t)},o.prototype.checkAndUpdate=function(t,e){if((void 0===this.scrollStart||t>=this.scrollStart)&&(void 0===this.scrollStop||t<=this.scrollStop)){this.scrollState="active";var i=r.ratioXtoPixels(this.actor.xPosition),o=r.ratioYtoPixels(this.actor.yPosition);this.startX||(this.startX=i),this.startY||(this.startY=o);var s=(this.pixelsStopX-this.startX)*this.curveFn((t-this.scrollStart)/this.scrollRange),n=(this.pixelsStopY-this.startY)*this.curveFn((t-this.scrollStart)/this.scrollRange);this.actor.setPositionPixels(this.startX+s,this.startY+n)}else t-e<=this.scrollStop&&t>this.scrollStop?(this.scrollState="upper",this.actor.setPositionPixels(this.pixelsStopX,this.pixelsStopY)):t-e>=this.scrollStart&&t<this.scrollStart?(this.scrollState="lower",void 0!==this.startX&&void 0!==this.startY&&this.actor.setPositionPixels(this.startX,this.startY)):this.scrollState="inactive"},i.exports=o}),i("modifiers/OpacityModifier",["require","exports","module","famous/core/OptionsManager","famous/core/Modifier"],function(t,e,i){function o(t){this.options=Object.create(o.DEFAULT_OPTIONS),this._optionsManager=new r(this.options),t&&this.setOptions(t),this.actor=this.options.actor,this.initialOpacity=void 0,this.finalOpacity=this.options.finalOpacity,this.scrollStart=this.options.scrollStart,this.scrollStop=this.options.scrollStop,this.scrollRange=this.options.scrollStop-this.options.scrollStart,this.curveFn=this.options.curveFn,this.upperSet=!1,this.lowerSet=!1,s.call(this),n.call(this,this.modifier)}function s(){this.modifier={opacity:function(){return this.actor.opacity
}.bind(this)}}var r=t("famous/core/OptionsManager"),n=t("famous/core/Modifier");o.DEFAULT_OPTIONS={actor:void 0,scrollStart:0,scrollStop:0,finalOpacity:1,curveFn:function(t){return t}},o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.setOptions=function(t){this._optionsManager.patch(t)},o.prototype.checkAndUpdate=function(t){if(t>this.scrollStart&&t<this.scrollStop){void 0===this.initialOpacity&&(this.initialOpacity=this.actor.opacity);var e=this.finalOpacity-this.initialOpacity;this.actor.opacity=this.initialOpacity+e*this.curveFn((t-this.scrollStart)/this.scrollRange),this.upperSet=!1,this.lowerSet=!1}else t<=this.scrollStart&&!this.lowerSet?void 0!==this.initialOpacity&&(this.actor.opacity=this.initialOpacity,this.lowerSet=!0):t>=this.scrollStop&&!this.upperSet&&(this.actor.opacity=this.finalOpacity,this.upperSet=!0)},i.exports=o}),i("modifiers/PositionModifier",["require","exports","module","tools/UnitConverter","famous/core/OptionsManager","famous/core/Modifier"],function(t,e,i){function o(t){this.options=Object.create(o.DEFAULT_OPTIONS),this._optionsManager=new a(this.options),t&&this.setOptions(t),this.actor=this.options.actor,this.scrollStart=this.options.scrollStart,this.scrollStop=this.options.scrollStop,this.scrollRange=this.options.scrollStop-this.options.scrollStart,this.scaleX=this.options.scaleX,this.scaleY=-this.options.scaleY,this.scrollState="inactive",s.call(this),c.call(this,this.modifier)}function s(){this.modifier={origin:[.5,.5],align:function(){return[this.actor.xPosition,this.actor.yPosition]}.bind(this)}}function r(t){this.actor.incrementPosition(n.pixelsToRatioX(t)*this.scaleX,n.pixelsToRatioY(t)*this.scaleY)}var n=t("tools/UnitConverter"),a=t("famous/core/OptionsManager"),c=t("famous/core/Modifier");o.DEFAULT_OPTIONS={actor:void 0,scaleX:1,scaleY:1,scrollStart:0,scrollStop:0},o.prototype=Object.create(c.prototype),o.prototype.constructor=o,o.prototype.setOptions=function(t){this._optionsManager.patch(t)},o.prototype.checkAndUpdate=function(t,e){if((void 0===this.scrollStart||t>=this.scrollStart)&&(void 0===this.scrollStop||t<=this.scrollStop)){this.scrollState="active";var i=n.ratioXtoPixels(this.actor.xPosition),o=n.ratioYtoPixels(this.actor.yPosition);this.startX||(this.startX=i),this.startY||(this.startY=o),r.call(this,e)}else if(t-e<=this.scrollStop&&t>this.scrollStop){if(this.scrollState="upper",void 0!==this.startX&&void 0!==this.startY){var s=this.startX+this.scrollRange*this.scaleX,a=this.startY+this.scrollRange*this.scaleY;this.actor.setPositionPixels(s,a)}}else t-e>=this.scrollStart&&t<this.scrollStart?(this.scrollState="lower",void 0!==this.startX&&void 0!==this.startY&&this.actor.setPositionPixels(this.startX,this.startY)):this.scrollState="inactive"},i.exports=o}),i("modifiers/RotateModifier",["require","exports","module","tools/UnitConverter","famous/core/Transform","famous/core/OptionsManager","famous/core/Modifier"],function(t,e,i){function o(t){this.options=Object.create(o.DEFAULT_OPTIONS),this._optionsManager=new c(this.options),t&&this.setOptions(t),this.actor=this.options.actor,this.scrollStart=this.options.scrollStart,this.scrollStop=this.options.scrollStop,this.scrollRange=this.options.scrollStop-this.options.scrollStart,this.scale=this.options.scale,this.theta=0,this.rotateState="inactive",s.call(this,this.options.axis),r.call(this),l.call(this,this.modifier)}function s(t){t=t.toLowerCase(),"x"===t&&(this.transform=a.rotateX),"y"===t&&(this.transform=a.rotateY),"z"===t&&(this.transform=a.rotateZ)}function r(){this.modifier={origin:[.5,.5],transform:function(){return this.transform(this.theta)}.bind(this)}}var n=t("tools/UnitConverter"),a=t("famous/core/Transform"),c=t("famous/core/OptionsManager"),l=t("famous/core/Modifier");o.DEFAULT_OPTIONS={actor:void 0,scrollStart:0,scrollStop:0,axis:"z",scale:.01},o.prototype=Object.create(l.prototype),o.prototype.constructor=o,o.prototype.setOptions=function(t){this._optionsManager.patch(t)},o.prototype.checkAndUpdate=function(t,e){(void 0===this.scrollStart||t>=this.scrollStart)&&(void 0===this.scrollStop||t<=this.scrollStop)?(this.rotateState="active",this.theta=n.degreesToRadians((t-this.scrollStart)*this.scale)):t-e<=this.scrollStop&&t>this.scrollStop?(this.rotateState="upper",this.theta=n.degreesToRadians(this.scrollRange*this.scale)):t-e>=this.scrollStart&&t<this.scrollStart?(this.rotateState="lower",this.theta=0):this.rotateState="inactive"},i.exports=o}),i("modifiers/RotateToModifier",["require","exports","module","tools/UnitConverter","famous/core/Transform","famous/core/OptionsManager","famous/core/Modifier"],function(t,e,i){function o(t){this.options=Object.create(o.DEFAULT_OPTIONS),this._optionsManager=new c(this.options),t&&this.setOptions(t),this.actor=this.options.actor,this.scrollStart=this.options.scrollStart,this.scrollStop=this.options.scrollStop,this.scrollRange=this.options.scrollStop-this.options.scrollStart,this.curveFn=this.options.curveFn,this.theta=0,this.startTheta=0,this.stopTheta=n.degreesToRadians(this.options.angleInDegrees),this.rotateState="inactive",s.call(this,this.options.axis),r.call(this),l.call(this,this.modifier)}function s(t){t=t.toLowerCase(),"x"===t&&(this.transform=a.rotateX),"y"===t&&(this.transform=a.rotateY),"z"===t&&(this.transform=a.rotateZ)}function r(){this.modifier={origin:[.5,.5],transform:function(){return this.transform(this.theta)}.bind(this)}}var n=t("tools/UnitConverter"),a=t("famous/core/Transform"),c=t("famous/core/OptionsManager"),l=t("famous/core/Modifier");o.DEFAULT_OPTIONS={actor:void 0,scrollStart:0,scrollStop:0,curveFn:function(t){return t},axis:"z",angleInDegrees:360},o.prototype=Object.create(l.prototype),o.prototype.constructor=o,o.prototype.setOptions=function(t){this._optionsManager.patch(t)},o.prototype.checkAndUpdate=function(t,e){if((void 0===this.scrollStart||t>=this.scrollStart)&&(void 0===this.scrollStop||t<=this.scrollStop)){this.rotateState="active";var i=(t-this.scrollStart)/this.scrollRange;this.theta=this.stopTheta*this.curveFn(i)}else t-e<=this.scrollStop&&t>this.scrollStop?(this.rotateState="upper",this.theta=this.stopTheta):t-e>=this.scrollStart&&t<this.scrollStart?(this.rotateState="lower",this.theta=this.startTheta):this.rotateState="inactive"},i.exports=o}),i("modifiers/ScaleModifier",["require","exports","module","famous/core/Modifier","famous/core/OptionsManager","famous/core/Transform"],function(t,e,i){function o(t){this.options=Object.create(o.DEFAULT_OPTIONS),this._optionsManager=new n(this.options),t&&this.setOptions(t),this.scrollStart=this.options.scrollStart,this.scrollStop=this.options.scrollStop,this.scrollRange=this.options.scrollStop-this.options.scrollStart,this.curveFn=this.options.curveFn,this.changeRatioX=this.options.changeRatioX,this.changeRatioY=this.options.changeRatioY,s.call(this),r.call(this,this.modifier)}function s(){this.modifier={transform:function(){return a.scale(this.scaleX,this.scaleY,1)}.bind(this)}}var r=t("famous/core/Modifier"),n=t("famous/core/OptionsManager"),a=t("famous/core/Transform");o.DEFAULT_OPTIONS={scrollStart:0,scrollStop:0,curveFn:function(t){return t},changeRatioX:1,changeRatioY:1},o.prototype=Object.create(r.prototype),o.prototype.constructor=o,o.prototype.setOptions=function(t){this._optionsManager.patch(t)},o.prototype.checkAndUpdate=function(t){var e=this.curveFn((t-this.scrollStart)/this.scrollRange);t>this.scrollStart&&t<this.scrollStop?(this.scaleX=1+e*(this.changeRatioX-1),this.scaleY=1+e*(this.changeRatioY-1)):t<=this.scrollStart?(this.scaleX=1,this.scaleY=1):t>=this.scrollStop&&(this.scaleX=this.changeRatioX,this.scaleY=this.changeRatioY)},i.exports=o}),i("modifiers/SkewModifier",["require","exports","module","famous/core/OptionsManager","famous/core/Modifier","famous/core/Transform"],function(t,e,i){function o(t){this.options=Object.create(o.DEFAULT_OPTIONS),this._optionsManager=new r(this.options),t&&this.setOptions(t),this.scrollStart=this.options.scrollStart,this.scrollStop=this.options.scrollStop,this.scrollRange=this.options.scrollStop-this.options.scrollStart,this.curveFn=this.options.curveFn,this.scaleX=this.options.scaleX,this.scaleY=this.options.scaleY,this.scaleZ=this.options.scaleZ,s.call(this),n.call(this,this.modifier)}function s(){this.modifier={transform:function(){return a.skew(this.skewX,this.skewY,this.skewZ)}.bind(this)}}var r=t("famous/core/OptionsManager"),n=t("famous/core/Modifier"),a=t("famous/core/Transform");o.DEFAULT_OPTIONS={scrollStart:0,scrollStop:0,curveFn:function(t){return t},scaleX:0,scaleY:0,scaleZ:0},o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.setOptions=function(t){this._optionsManager.patch(t)},o.prototype.checkAndUpdate=function(t){var e=this.curveFn((t-this.scrollStart)/this.scrollRange);t>this.scrollStart&&t<this.scrollStop?(this.skewX=e*this.scaleX,this.skewY=e*this.scaleY,this.skewZ=e*this.scaleZ):t<=this.scrollStart?(this.skewX=0,this.skewY=0,this.skewZ=0):t>=this.scrollStop&&(this.skewX=this.scaleX,this.skewY=this.scaleY,this.skewZ=this.scaleZ)},i.exports=o}),i("famous/transitions/Easing",["require","exports","module"],function(t,e,i){var o={inQuad:function(t){return t*t},outQuad:function(t){return-(t-=1)*t+1},inOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},inCubic:function(t){return t*t*t},outCubic:function(t){return--t*t*t+1},inOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},inQuart:function(t){return t*t*t*t},outQuart:function(t){return-(--t*t*t*t-1)},inOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},inQuint:function(t){return t*t*t*t*t},outQuint:function(t){return--t*t*t*t*t+1},inOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},inSine:function(t){return-1*Math.cos(t*(Math.PI/2))+1},outSine:function(t){return Math.sin(t*(Math.PI/2))},inOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},inExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},outExpo:function(t){return 1===t?1:-Math.pow(2,-10*t)+1},inOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},inCirc:function(t){return-(Math.sqrt(1-t*t)-1)},outCirc:function(t){return Math.sqrt(1- --t*t)},inOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},inElastic:function(t){var e=1.70158,i=0,o=1;return 0===t?0:1===t?1:(i||(i=.3),e=i/(2*Math.PI)*Math.asin(1/o),-(o*Math.pow(2,10*(t-=1))*Math.sin(2*(t-e)*Math.PI/i)))},outElastic:function(t){var e=1.70158,i=0,o=1;return 0===t?0:1===t?1:(i||(i=.3),e=i/(2*Math.PI)*Math.asin(1/o),o*Math.pow(2,-10*t)*Math.sin(2*(t-e)*Math.PI/i)+1)},inOutElastic:function(t){var e=1.70158,i=0,o=1;return 0===t?0:2===(t/=.5)?1:(i||(i=.3*1.5),e=i/(2*Math.PI)*Math.asin(1/o),1>t?-.5*o*Math.pow(2,10*(t-=1))*Math.sin(2*(t-e)*Math.PI/i):o*Math.pow(2,-10*(t-=1))*Math.sin(2*(t-e)*Math.PI/i)*.5+1)},inBack:function(t,e){return void 0===e&&(e=1.70158),t*t*((e+1)*t-e)},outBack:function(t,e){return void 0===e&&(e=1.70158),--t*t*((e+1)*t+e)+1},inOutBack:function(t,e){return void 0===e&&(e=1.70158),(t/=.5)<1?.5*t*t*(((e*=1.525)+1)*t-e):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},inBounce:function(t){return 1-o.outBounce(1-t)},outBounce:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},inOutBounce:function(t){return.5>t?.5*o.inBounce(2*t):.5*o.outBounce(2*t-1)+.5}};i.exports=o}),i("tools/ActionFactory",["require","exports","module","modifiers/MoveToModifier","modifiers/OpacityModifier","modifiers/PositionModifier","modifiers/RotateModifier","modifiers/RotateToModifier","modifiers/ScaleModifier","modifiers/SkewModifier","famous/transitions/TweenTransition","famous/transitions/Easing"],function(t,e,i){function o(){this.actionsForActor={}}function s(t){t.curveFn=t.curve?f.Curves[t.curve]:f.Curves.linear,t.curveFn||(t.curveFn=d[t.curve])}function r(t,e){this.actionsForActor[t.name]||(this.actionsForActor[t.name]=[]),this.actionsForActor[t.name].push(e)}var n=t("modifiers/MoveToModifier"),a=t("modifiers/OpacityModifier"),c=t("modifiers/PositionModifier"),l=t("modifiers/RotateModifier"),h=t("modifiers/RotateToModifier"),p=t("modifiers/ScaleModifier"),u=t("modifiers/SkewModifier"),f=t("famous/transitions/TweenTransition"),d=t("famous/transitions/Easing");o.prototype.makeAction=function(t,e,i,o,f){var d;return f||(f={}),s(f),"moveTo"===e?d=new n({actor:t,scrollStart:i,scrollStop:o,curveFn:f.curveFn,pixelsStopX:f.location[0],pixelsStopY:f.location[1]}):"position"===e?d=new c({actor:t,scaleX:f.scaleX,scaleY:f.scaleY,scrollStart:i,scrollStop:o}):"rotateTo"===e?d=new h({actor:t,scrollStart:i,scrollStop:o,curveFn:f.curveFn,axis:f.axis,angleInDegrees:f.angleInDegrees}):"rotate"===e?d=new l({actor:t,scrollStart:i,scrollStop:o,axis:f.axis,scale:f.scale}):"opacity"===e?d=new a({actor:t,scrollStart:i,scrollStop:o,curveFn:f.curveFn,finalOpacity:f&&void 0!==f.finalOpacity?f.finalOpacity:1}):"scale"===e?d=new p({scrollStart:i,scrollStop:o,curveFn:f.curveFn,changeRatioX:f.changeRatioX,changeRatioY:f.changeRatioY}):"skew"===e&&(d=new u({scrollStart:i,scrollStop:o,curveFn:f.curveFn,scaleX:f.scaleX||0,scaleY:f.scaleY||0,scaleZ:f.scaleZ||0})),t.addModifier(d),r.call(this,t,d),d},o.prototype.getActionsForActor=function(t){return this.actionsForActor[t]},o.prototype.actionComparator=function(t,e){return"scale"===t.type?-1:"scale"===e.type?1:"rotate"===t.type||"rotateTo"===t.type?-1:"rotate"===e.type||"rotateTo"===e.type?1:0},i.exports=o}),i("tools/Director",["require","exports","module","tools/ActorFactory","tools/ActionFactory","tools/UnitConverter"],function(t,e,i){function o(){this.actors={}}function s(t){for(var e=[],i=0;1>=i;i++){var o=""+t[i];"%"===o.charAt(o.length-1)?(0===i&&(e[i]=a.percentageToPixelsX(parseFloat(o.slice(0,o.length-1)))),1===i&&(e[i]=a.percentageToPixelsY(parseFloat(o.slice(0,o.length-1))))):e[i]=t[i]}return e}var r=t("tools/ActorFactory"),n=t("tools/ActionFactory"),a=t("tools/UnitConverter");o.prototype.populateStage=function(t,e,i){var o=new r,a=new n,c=[];for(var l in e){e[l].zPosition&&e[l].properties&&(e[l].properties.zPosition=e[l].zPosition),e[l].size=s(e[l].size),e[l].position&&(e[l].position=s(e[l].position));var h=o.makeActor(l,e[l].type,e[l].content,e[l].classes,e[l].properties,e[l].size,e[l].opacity);this.actors[l]=h,h.setPositionPixels(e[l].position[0],e[l].position[1])}i=i.sort(a.actionComparator);for(var p=0;p<i.length;p++){var u=i[p],f=this.actors[u.actor];u.setBreak&&c.push(u.stop),u.properties&&u.properties.location&&(u.properties.location=s(u.properties.location)),a.makeAction(f,u.type,u.start,u.stop,u.properties)}for(var d in this.actors){var v=this.actors[d];t.addActor(v)}t.updateArrowKeyBreakpoints(c)},i.exports=o}),i("main",["require","exports","module","famous/core/Engine","views/StageView","tools/Director"],function(t){var e=t("famous/core/Engine"),i=t("views/StageView"),o=t("tools/Director"),s=e.createContext();s.setPerspective(1e3);var r=new i,n=new o,a="<pre>'Presenter Name': { \n    type: 'html', \n    content: 'BOB OWEN', \n    properties: { \n        backfaceVisibility: 'visible', \n        fontSize: '6.5em', \n        textAlign: 'center' \n    }, \n    size: [700, 140], \n    position: ['75%', '50%'], \n    classes: ['z2'] \n}, \n</pre>",c="<pre>{ \n    actor: 'Presenter Name', \n    start: 7001, \n    stop: 8000, \n    type: 'rotateTo', \n    properties: { \n        axis: 'x', \n        angleInDegrees: 720, \n    } \n}, \n</pre>",l={Scrollster:{type:"html",content:'<div class="vertCenter"><h1>SCROLLSTER</h1><p>Scroll-based animation component with the power of <a href="http://famo.us">famo.us</a></div>',properties:{backfaceVisibility:"visible",fontSize:"200%",textAlign:"center",backgroundColor:"white"},size:["100%","100%"],position:["50%","50%"],classes:["z2"],zPosition:1},Instructions:{type:"html",content:"scroll or press the down key to continue",properties:{backfaceVisibility:"visible",fontSize:"100%",textAlign:"center"},size:["100%","10%"],position:["50%","90%"],classes:["z2"],zPosition:1},"Action Labs Logo":{type:"image",content:"content/images/action-labs.png",properties:{backfaceVisibility:"visible"},size:[200,100],position:["50%","50%"],classes:["z2"],zPosition:0,opacity:0},"Why Famous":{type:"html",content:'<div class="vertCenter"><h1>WHY FAMOUS?</h1></div>',zPosition:0,properties:{backfaceVisibility:"visible",fontSize:"200%",textAlign:"center"},size:["100%","30%"],position:["-150%","50%"],classes:["z2"]},Speed:{type:"html",content:'<div class="vertCenter">Speed</div>',zPosition:0,properties:{backfaceVisibility:"visible",fontSize:"300%",textAlign:"center",backgroundColor:"rgb(240,240,240)"},size:["100%",75],position:["-150%","30%"],classes:["z2"]},Easing:{type:"html",content:'<div class="vertCenter">Easing / Physics</div>',zPosition:0,properties:{backfaceVisibility:"visible",fontSize:"300%",textAlign:"center",backgroundColor:"rgb(240,240,240)"},size:["100%",75],position:["-150%","50%"],classes:["z2"]},"3D":{type:"html",content:'<div class="vertCenter">3D Transformations</div>',zPosition:0,properties:{backfaceVisibility:"visible",fontSize:"300%",textAlign:"center",backgroundColor:"rgb(240,240,240)"},size:["100%",75],position:["-150%","70%"],classes:["z2"]},"How It Works":{type:"html",content:'<div class="vertCenter"><h1>HOW IT WORKS</h1><p>Combine Actors and Actions</p></div>',zPosition:0,properties:{backfaceVisibility:"visible",fontSize:"200%",textAlign:"center"},size:["100%","30%"],position:["50%","7%"],classes:["z2"],opacity:0},Action:{type:"html",content:'<div class="vertCenter">Action</div>',zPosition:0,properties:{backfaceVisibility:"visible",fontSize:"300%",textAlign:"center",backgroundColor:"rgb(83,83,83)",color:"rgb(240,240,240)"},size:["25%","35%"],position:["70%","50%"],classes:["z2"],opacity:0},Actor:{type:"html",content:'<div class="vertCenter">Actor</div>',zPosition:0,size:["25%","35%"],position:["30%","50%"],classes:["z2"],opacity:0,properties:{backfaceVisibility:"visible",fontSize:"300%",textAlign:"center",backgroundColor:"rgb(240,240,240)"}},"Actor Example":{type:"html",content:'<div class="vertCenter code">'+a+"<div>",zPosition:0,properties:{backfaceVisibility:"visible",fontSize:"150%",backgroundColor:"black",color:"white",fontFamily:'"Lucida Console", Monaco, monospace'},size:["40%","50%"],position:["70%","50%"],classes:["z2"],opacity:0},"Action Example":{type:"html",content:'<div class="vertCenter code">'+c+"</div>",zPosition:0,properties:{backfaceVisibility:"visible",fontSize:"150%",backgroundColor:"white",color:"black",fontFamily:'"Lucida Console", Monaco, monospace'},size:["40%","50%"],position:["150%","50%"],classes:["z2"],opacity:1},Position:{type:"html",content:'<div class="vertCenter box">Position</div>',zPosition:0,size:[200,200],position:["50%","50%"],classes:["z2"],opacity:0,properties:{backfaceVisibility:"visible",fontSize:"300%",textAlign:"center",backgroundColor:"rgb(240,240,240)"}},"Move To":{type:"html",content:'<div class="vertCenter box">Move To</div>',zPosition:0,size:[200,200],position:["50%","50%"],classes:["z2"],opacity:0,properties:{backfaceVisibility:"visible",fontSize:"300%",textAlign:"center",backgroundColor:"rgb(240,240,240)"}},"Rotate To":{type:"html",content:'<div class="vertCenter box">Rotate To</div>',zPosition:0,size:[200,200],position:["50%","50%"],classes:["z2"],opacity:0,properties:{backfaceVisibility:"visible",fontSize:"300%",textAlign:"center",backgroundColor:"rgb(240,240,240)"}},Scale:{type:"html",content:'<div class="vertCenter box">Scale</div>',zPosition:0,size:[200,200],position:["50%","50%"],classes:["z2"],opacity:0,properties:{backfaceVisibility:"visible",fontSize:"300%",textAlign:"center",backgroundColor:"rgb(240,240,240)"}},Skew:{type:"html",content:'<div class="vertCenter box">Skew</div>',zPosition:0,size:[200,200],position:["50%","50%"],classes:["z2"],opacity:0,properties:{backfaceVisibility:"visible",fontSize:"300%",textAlign:"center",backgroundColor:"rgb(240,240,240)"}},"Scrollster Final":{type:"html",content:'<div class="vertCenter"><h1>SCROLLSTER</h1><p>Fork it on GitHub <a href="https://github.com/ActionLabs/Scrollster">ActionLabs/Scrollster</a></div>',properties:{backfaceVisibility:"visible",fontSize:"200%",textAlign:"center",backgroundColor:"white"},size:["100%","100%"],position:["50%","50%"],classes:["z2"],zPosition:0,opacity:0}},h=[{actor:"Scrollster",start:0,stop:1e3,type:"moveTo",properties:{location:["150%","50%"]}},{actor:"Instructions",start:0,stop:1e3,type:"opacity",properties:{finalOpacity:0}},{actor:"Action Labs Logo",start:500,stop:1e3,setBreak:!0,type:"opacity",properties:{}},{actor:"Action Labs Logo",start:1001,stop:2e3,type:"position",properties:{scaleX:0,scaleY:2.5}},{actor:"Why Famous",start:1001,stop:1500,type:"moveTo",properties:{location:["50%","50%"],curve:"easeIn"}},{actor:"Why Famous",start:1501,stop:2e3,setBreak:!0,type:"moveTo",properties:{location:["50%","5%"],curve:"easeIn"}},{actor:"Speed",start:2001,stop:3e3,type:"moveTo",setBreak:!0,properties:{location:["50%","30%"],curve:"easeIn"}},{actor:"Easing",start:3001,stop:4e3,setBreak:!0,type:"moveTo",properties:{location:["50%","50%"],curve:"spring"}},{actor:"3D",start:4001,stop:5e3,type:"moveTo",properties:{location:["50%","70%"],curve:"linear"}},{actor:"3D",start:4001,stop:5e3,setBreak:!0,type:"rotateTo",properties:{axis:"x",angleInDegrees:720,curve:"linear"}},{actor:"Why Famous",start:5001,stop:6e3,type:"moveTo",properties:{location:["50%","150%"],curve:"linear"}},{actor:"Speed",start:5001,stop:6e3,type:"moveTo",properties:{location:["50%","130%"],curve:"easeIn"}},{actor:"Easing",start:5201,stop:6e3,type:"moveTo",properties:{location:["50%","130%"],curve:"easeIn"}},{actor:"3D",start:5401,stop:6e3,type:"moveTo",properties:{location:["50%","130%"],curve:"easeIn"}},{actor:"How It Works",start:5800,stop:7e3,type:"opacity",properties:{}},{actor:"Actor",start:6001,stop:7e3,setBreak:!0,type:"opacity",properties:{finalOpacity:1}},{actor:"Action",start:7001,stop:8e3,setBreak:!0,type:"opacity",properties:{finalOpacity:1}},{actor:"Action",start:8001,stop:9e3,type:"moveTo",properties:{location:["150%","50%"],curve:"linear"}},{actor:"Actor Example",start:8001,stop:9e3,type:"opacity",setBreak:!0,properties:{finalOpacity:1}},{actor:"Actor",start:9001,stop:1e4,type:"moveTo",properties:{location:["150%","50%"],curve:"linear"}},{actor:"Actor Example",start:9001,stop:1e4,type:"moveTo",properties:{location:["150%","50%"],curve:"linear"}},{actor:"Action",start:1e4,stop:11e3,type:"moveTo",properties:{location:["30%","50%"],curve:"easeOut"}},{actor:"Action Example",start:1e4,stop:11e3,setBreak:!0,type:"moveTo",properties:{location:["70%","50%"],curve:"easeOut"}},{actor:"Action Example",start:11e3,stop:11500,type:"opacity",properties:{finalOpacity:0}},{actor:"Actor",start:11e3,stop:11500,type:"moveTo",setBreak:!0,properties:{location:["70%","50%"],curve:"linear"}},{actor:"Action",start:11500,stop:13e3,type:"rotateTo",properties:{axis:"z",angleInDegrees:"1080"}},{actor:"Actor",start:12e3,stop:12500,type:"moveTo",properties:{location:["50%","50%"],curve:"linear"}},{actor:"Action",start:12e3,stop:12500,type:"moveTo",properties:{location:["50%","50%"],curve:"linear"}},{actor:"Actor",start:12500,stop:13e3,type:"rotateTo",properties:{axis:"z",angleInDegrees:"360"}},{actor:"Actor",start:12500,stop:13e3,type:"moveTo",properties:{location:["50%","150%"],curve:"linear"}},{actor:"Action",start:12500,stop:13e3,setBreak:!0,type:"moveTo",properties:{location:["50%","150%"],curve:"linear"}},{actor:"Position",start:13e3,stop:14e3,setBreak:!0,type:"opacity",properties:{finalOpacity:1}},{actor:"Position",start:14001,stop:15e3,setBreak:!0,type:"position",properties:{scaleX:.5,scaleY:0}},{actor:"Position",start:15001,stop:16e3,type:"position",properties:{scaleX:0,scaleY:-3}},{actor:"Move To",start:15001,stop:16e3,setBreak:!0,type:"opacity",properties:{finalOpacity:1}},{actor:"Move To",start:16001,stop:17e3,setBreak:!0,type:"moveTo",properties:{location:["25%","25%"]}},{actor:"Move To",start:17001,stop:18e3,type:"position",properties:{scaleX:0,scaleY:-4}},{actor:"Rotate To",start:17001,stop:18e3,setBreak:!0,type:"opacity",properties:{finalOpacity:1}},{actor:"Rotate To",start:18001,stop:19e3,setBreak:!0,type:"rotateTo",properties:{axis:"y",angleInDegrees:180}},{actor:"Rotate To",start:19001,stop:2e4,type:"position",properties:{scaleX:0,scaleY:-4}},{actor:"Scale",start:19001,stop:2e4,setBreak:!0,type:"opacity",properties:{finalOpacity:1}},{actor:"Scale",start:20001,stop:21e3,setBreak:!0,type:"scale",properties:{changeRatioX:3,changeRatioY:3}},{actor:"Scale",start:21001,stop:22e3,type:"position",properties:{scaleX:0,scaleY:-5}},{actor:"Skew",start:21001,stop:22e3,setBreak:!0,type:"opacity",properties:{finalOpacity:1}},{actor:"Skew",start:22001,stop:23e3,setBreak:!0,type:"skew",properties:{scaleZ:.75}},{actor:"Skew",start:23001,stop:24e3,type:"position",properties:{scaleX:0,scaleY:-5}},{actor:"How It Works",start:22001,stop:23e3,type:"moveTo",properties:{location:["50%","-30%"]}},{actor:"Scrollster Final",start:22e3,stop:24e3,setBreak:!0,type:"rotateTo",properties:{axis:"x",angleInDegrees:360}},{actor:"Scrollster Final",start:23500,stop:23600,type:"opacity",properties:{finalOpacity:1}}];n.populateStage(r,l,h),s.add(r)}),e(["main"])}();